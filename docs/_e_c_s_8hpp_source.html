<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DirectZ: include/dz/ECS.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DirectZ
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('_e_c_s_8hpp_source.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">ECS.hpp</div></div>
</div><!--header-->
<div class="contents">
<a href="_e_c_s_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="preprocessor">#include &quot;<a class="code" href="_global_u_i_d_8hpp.html">GlobalUID.hpp</a>&quot;</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &lt;unordered_map&gt;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &quot;<a class="code" href="_buffer_group_8hpp.html">BufferGroup.hpp</a>&quot;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &quot;<a class="code" href="_framebuffer_8hpp.html">Framebuffer.hpp</a>&quot;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &quot;<a class="code" href="_draw_list_manager_8hpp.html">DrawListManager.hpp</a>&quot;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &quot;<a class="code" href="_window_8hpp.html">Window.hpp</a>&quot;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &quot;<a class="code" href="_shader_8hpp.html">Shader.hpp</a>&quot;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &quot;<a class="code" href="_camera_8hpp.html">Camera.hpp</a>&quot;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &quot;<a class="code" href="_util_8hpp.html">Util.hpp</a>&quot;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &quot;<a class="code" href="_state_8hpp.html">State.hpp</a>&quot;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &quot;<a class="code" href="_provider_8hpp.html">ECS/Provider.hpp</a>&quot;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="_light_8hpp.html">ECS/Light.hpp</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="_component_8hpp.html">ECS/Component.hpp</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="_entity_8hpp.html">ECS/Entity.hpp</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="_scene_8hpp.html">ECS/Scene.hpp</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;iostreams/Serial.hpp&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &lt;mutex&gt;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span> </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno"><a class="line" href="_e_c_s_8hpp.html#a937d447685f97e2dba753ded878f58e6">   27</a></span><span class="preprocessor">#define ID_ENTITY_MIN 0</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno"><a class="line" href="_e_c_s_8hpp.html#aecea66085c29653ab27c0d46cd978e1b">   28</a></span><span class="preprocessor">#define ID_CAMERA_MIN 357913941</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno"><a class="line" href="_e_c_s_8hpp.html#a88e755aed7b18bbe039f4aa313f8d4f7">   29</a></span><span class="preprocessor">#define ID_LIGHT_MIN 715827882</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacedz.html">dz</a> {</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span> </div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>    <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">const</span> std::string cameras_buffer_name = <span class="stringliteral">&quot;Cameras&quot;</span>;</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">const</span> std::string lights_buffer_name = <span class="stringliteral">&quot;Lights&quot;</span>;</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>    </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>    <span class="keyword">template</span>&lt;<span class="keywordtype">int</span> TCID, <span class="keyword">typename</span>... TProviders&gt;</div>
<div class="foldopen" id="foldopen00037" data-start="{" data-end="};">
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html">   37</a></span>    <span class="keyword">struct </span><a class="code hl_function" href="structdz_1_1_e_c_s.html#addf6a8997cb15600fced6e9b0ee00f2a">ECS</a> : <a class="code hl_struct" href="structdz_1_1_restorable.html">Restorable</a> {</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span> </div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a57bdbc60d3120532dafadd536546d046">   39</a></span>        <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a57bdbc60d3120532dafadd536546d046">CID</a> = TCID;</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#af1501f52e14fc2152f05803066dc1e3b">   40</a></span>        <span class="keywordtype">int</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#af1501f52e14fc2152f05803066dc1e3b">getCID</a>()<span class="keyword"> override </span>{ <span class="keywordflow">return</span> TCID; }</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
<div class="foldopen" id="foldopen00042" data-start="{" data-end="}">
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a6990a0e560c6bff05b1c7e34a0501330">   42</a></span>        <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a6990a0e560c6bff05b1c7e34a0501330">RegisterStateCID</a>() {</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>            <a class="code hl_function" href="namespacedz.html#a9e063990ab02dca3f3e4ee18880c1b2c">register_restorable_constructor</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a57bdbc60d3120532dafadd536546d046">CID</a>, [](Serial&amp; serial) -&gt; <a class="code hl_struct" href="structdz_1_1_restorable.html">Restorable</a>* {</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>                <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#addf6a8997cb15600fced6e9b0ee00f2a">ECS</a>(serial);</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>            });</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>        }</div>
</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span> </div>
<div class="foldopen" id="foldopen00048" data-start="{" data-end="};">
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_registered_component_entry.html">   48</a></span>        <span class="keyword">struct </span><a class="code hl_struct" href="structdz_1_1_e_c_s_1_1_registered_component_entry.html">RegisteredComponentEntry</a> {</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_registered_component_entry.html#aa2fb10a250951ceef2e06e1e6f94d00c">   49</a></span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="structdz_1_1_e_c_s_1_1_registered_component_entry.html#aa2fb10a250951ceef2e06e1e6f94d00c">type_id</a>;</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_registered_component_entry.html#a03188046da10ddbbc9b34f3d369aa8f4">   50</a></span>            std::string <a class="code hl_variable" href="structdz_1_1_e_c_s_1_1_registered_component_entry.html#a03188046da10ddbbc9b34f3d369aa8f4">struct_name</a>;</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_registered_component_entry.html#a17e8b307b187cf66f56779c41e2a6c70">   51</a></span>            std::string <a class="code hl_variable" href="structdz_1_1_e_c_s_1_1_registered_component_entry.html#a17e8b307b187cf66f56779c41e2a6c70">buffer_name</a>;</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_registered_component_entry.html#af45e81470417d6ce040d3a02c0d90664">   52</a></span>            std::string <a class="code hl_variable" href="structdz_1_1_e_c_s_1_1_registered_component_entry.html#af45e81470417d6ce040d3a02c0d90664">sparse_name</a>;</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_registered_component_entry.html#a06c2f317e85b1b8c127ed909223240e0">   53</a></span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="structdz_1_1_e_c_s_1_1_registered_component_entry.html#a06c2f317e85b1b8c127ed909223240e0">constructed_count</a> = 0;</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>        };</div>
</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span> </div>
<div class="foldopen" id="foldopen00056" data-start="{" data-end="};">
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html">   56</a></span>        <span class="keyword">struct </span><a class="code hl_struct" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html">ProviderReflectableGroup</a> : <a class="code hl_struct" href="struct_reflectable_group.html">ReflectableGroup</a> {</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a4d1a546e5d517f6c0fa867b1f8a4eeed">   57</a></span>            <span class="keywordtype">float</span> <a class="code hl_variable" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a4d1a546e5d517f6c0fa867b1f8a4eeed">priority</a>;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a9e8e988b76ef6c276c4cccf0ebf91b4c">   58</a></span>            std::string <a class="code hl_variable" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a9e8e988b76ef6c276c4cccf0ebf91b4c">name</a>;</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#af49c6c6a18400680d47259f4462fa3ad">   59</a></span>            std::string <a class="code hl_variable" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#af49c6c6a18400680d47259f4462fa3ad">struct_name</a>;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a7313669cb0bb2a1be508023ce92b86b5">   60</a></span>            std::string <a class="code hl_variable" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a7313669cb0bb2a1be508023ce92b86b5">buffer_name</a>;</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a5d816ac7e4545f5b9e9f214d554520f1">   61</a></span>            std::string <a class="code hl_variable" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a5d816ac7e4545f5b9e9f214d554520f1">sparse_name</a>;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#ad20531c85377ab6c0e233d20ab47e2fb">   62</a></span>            std::string <a class="code hl_variable" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#ad20531c85377ab6c0e233d20ab47e2fb">glsl_struct</a>;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a6ffbe9660af900cd34cef15d71f2aaaa">   63</a></span>            std::unordered_map&lt;ShaderModuleType, std::string&gt; <a class="code hl_variable" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a6ffbe9660af900cd34cef15d71f2aaaa">glsl_methods</a>;</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a39ec1ae3d25b4f9b963e5846d8ca49e9">   64</a></span>            std::string <a class="code hl_variable" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a39ec1ae3d25b4f9b963e5846d8ca49e9">glsl_main</a>;</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#ad9854eff7f8ed392c016e87ea45b6656">   65</a></span>            <span class="keywordtype">bool</span> <a class="code hl_variable" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#ad9854eff7f8ed392c016e87ea45b6656">is_component</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#ac983f9eb1bda2f1b3ad6341f735cafe9">   66</a></span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#ac983f9eb1bda2f1b3ad6341f735cafe9">component_id</a> = 0;</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span> </div>
<div class="foldopen" id="foldopen00068" data-start="{" data-end="}">
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a556ca27920388c171c9cb6d0513fa66e">   68</a></span>            <a class="code hl_enumeration" href="struct_reflectable_group.html#ae5b86ae0e7296bb3ac27602324dea21b">GroupType</a> <a class="code hl_function" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a556ca27920388c171c9cb6d0513fa66e">GetGroupType</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="struct_reflectable_group.html#ae5b86ae0e7296bb3ac27602324dea21bae58e44bb0116961ff9a4943ecdd4ce4c">ReflectableGroup::Provider</a>;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>            }</div>
</div>
<div class="foldopen" id="foldopen00071" data-start="{" data-end="}">
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a36644def6d098c5cf198bb95375e7b89">   71</a></span>            std::string&amp; <a class="code hl_function" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a36644def6d098c5cf198bb95375e7b89">GetName</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a9e8e988b76ef6c276c4cccf0ebf91b4c">name</a>;</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>            }</div>
</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>        };</div>
</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span> </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#ab037f74977e1f4c1c9c86c967695cb9d">   76</a></span>        std::recursive_mutex <a class="code hl_variable" href="structdz_1_1_e_c_s.html#ab037f74977e1f4c1c9c86c967695cb9d">e_mutex</a>;</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span> </div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#aec110b8efc5cbaa9c05f48b2863eb693">   78</a></span>        std::string <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aec110b8efc5cbaa9c05f48b2863eb693">buffer_name</a>;</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span> </div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a10ddbad34892ad410fa4b1029619787f">   80</a></span>        WINDOW* <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a10ddbad34892ad410fa4b1029619787f">window_ptr</a> = 0;</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#ad12b2f122e4a4ff943daa24a72af24a7">   81</a></span>        std::filesystem::path <a class="code hl_variable" href="structdz_1_1_e_c_s.html#ad12b2f122e4a4ff943daa24a72af24a7">save_path</a>;</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#aef1d55204eac95fd05d02782f1275b5c">   82</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aef1d55204eac95fd05d02782f1275b5c">loaded_from_io</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#aa184b5ee6151d57624abf1ca5c6ef979">   84</a></span>        std::vector&lt;std::shared_ptr&lt;ReflectableGroup&gt;&gt; <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aa184b5ee6151d57624abf1ca5c6ef979">reflectable_group_root_vector</a>;</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a68691bef47fb757e049898fc664e20c9">   85</a></span>        std::unordered_map&lt;size_t, std::map&lt;size_t, ReflectableGroup*&gt;&gt; <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a68691bef47fb757e049898fc664e20c9">provider_id_reflectable_maps</a>;</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a9480cc5ed75db8b120997363ed872a2e">   86</a></span>        std::unordered_map&lt;size_t, std::vector&lt;size_t&gt;&gt; <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a9480cc5ed75db8b120997363ed872a2e">provider_index_vectors</a>;</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span> </div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#aea0871faeaa60fbc78c0b587764179a2">   88</a></span>        std::map&lt;size_t, ProviderReflectableGroup&gt; <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aea0871faeaa60fbc78c0b587764179a2">id_provider_groups</a>;</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a2af4eafcbe67f8d6b06a1f0fbb31ccb8">   89</a></span>        std::map&lt;float, std::vector&lt;size_t&gt;&gt; <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2af4eafcbe67f8d6b06a1f0fbb31ccb8">prioritized_provider_ids</a>;</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#aa6f0ab28e7efafccc15fc97b40bb8ac3">   91</a></span>        std::unordered_map&lt;ShaderModuleType, std::map&lt;float, std::vector&lt;std::string&gt;&gt;&gt; <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aa6f0ab28e7efafccc15fc97b40bb8ac3">priority_glsl_mains</a>;</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span> </div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a769b0bcac17b3ba0893ed544bfbb2bd2">   93</a></span>        std::vector&lt;std::string&gt; <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a769b0bcac17b3ba0893ed544bfbb2bd2">restricted_keys</a>{<span class="stringliteral">&quot;Components&quot;</span>};</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#ac2955d3c4318a33e0eaaa506849a7d9c">   94</a></span>        std::map&lt;int, RegisteredComponentEntry&gt; <a class="code hl_variable" href="structdz_1_1_e_c_s.html#ac2955d3c4318a33e0eaaa506849a7d9c">registered_component_map</a>;</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#af4660379438f3644512eedc64a3f4e98">   95</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structdz_1_1_e_c_s.html#af4660379438f3644512eedc64a3f4e98">components_registered</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span> </div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#aa76c8846cb78da2c9a80015d27b6fd4e">   97</a></span>        <span class="keyword">using </span><a class="code hl_typedef" href="structdz_1_1_e_c_s.html#aa76c8846cb78da2c9a80015d27b6fd4e">DrawProviderT</a> = <span class="keyword">typename</span> <a class="code hl_struct" href="structdz_1_1_first_matching_or_default.html">FirstMatchingOrDefault</a>&lt;<a class="code hl_struct" href="structdz_1_1_is_draw_provider.html">IsDrawProvider</a>, TProviders...&gt;::type;</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#aff6ca6c2589732b628b7fcea0fec5bef">   98</a></span>        <span class="keyword">using </span><a class="code hl_typedef" href="structdz_1_1_e_c_s.html#aff6ca6c2589732b628b7fcea0fec5bef">CameraProviderT</a> = <span class="keyword">typename</span> <a class="code hl_struct" href="structdz_1_1_first_matching_or_default.html">FirstMatchingOrDefault</a>&lt;<a class="code hl_struct" href="structdz_1_1_is_camera_provider.html">IsCameraProvider</a>, TProviders...&gt;::type;</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a8bbd141d75f2e6328132dac1f1bb1a66">   99</a></span>        <span class="keyword">using </span><a class="code hl_typedef" href="structdz_1_1_e_c_s.html#a8bbd141d75f2e6328132dac1f1bb1a66">SceneProviderT</a> = <span class="keyword">typename</span> <a class="code hl_struct" href="structdz_1_1_first_matching_or_default.html">FirstMatchingOrDefault</a>&lt;<a class="code hl_struct" href="structdz_1_1_is_scene_provider.html">IsSceneProvider</a>, TProviders...&gt;::type;</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#af9aec33af76cd4121dbe0a74382a2e45">  100</a></span>        <a class="code hl_struct" href="structdz_1_1_draw_list_manager.html">DrawListManager&lt;DrawProviderT&gt;</a> <a class="code hl_variable" href="structdz_1_1_e_c_s.html#af9aec33af76cd4121dbe0a74382a2e45">draw_mg</a>;</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span> </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">  102</a></span>        BufferGroup* <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a> = 0;</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a1f3400395a1aed4784021ffd696b169e">  103</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a1f3400395a1aed4784021ffd696b169e">buffer_initialized</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a203bacf57f40e1ef54e08893db99d4fa">  104</a></span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a203bacf57f40e1ef54e08893db99d4fa">buffer_size</a> = 0;</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>        </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a6f28d44373501dc81b7c1ea8b9fcfe49">  106</a></span>        Shader* <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a6f28d44373501dc81b7c1ea8b9fcfe49">main_shader</a> = 0;</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a3aad0e8d64245cc66f15e5f60ed6a8b3">  107</a></span>        Shader* <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a3aad0e8d64245cc66f15e5f60ed6a8b3">model_compute_shader</a> = 0;</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span> </div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a1595a3f6980aa50bbe036d807c2ff771">  109</a></span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a1595a3f6980aa50bbe036d807c2ff771">constructed_component_count</a> = 0;</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="foldopen" id="foldopen00111" data-start="{" data-end="}">
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a9ff0fed2b091c4bf7559a7b7bd657029">  111</a></span>        <span class="keyword">auto</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a9ff0fed2b091c4bf7559a7b7bd657029">GenerateEntitysDrawFunction</a>() {</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>            <span class="keywordflow">return</span> [&amp;](<span class="keyword">auto</span> <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>, <span class="keyword">auto</span>&amp; entity) -&gt; <a class="code hl_typedef" href="namespacedz.html#abadd2c679e580e66db77000f5d53f359">DrawTuples</a> {</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>                <span class="keywordflow">return</span> {</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>                    {<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a6f28d44373501dc81b7c1ea8b9fcfe49">main_shader</a>, entity.GetVertexCount(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>, entity)}</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>                };</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>            };</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>        }</div>
</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span> </div>
<div class="foldopen" id="foldopen00119" data-start="{" data-end="}">
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#af9ced92d973b5bbee249ad57f384e4bc">  119</a></span>        <span class="keyword">auto</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#af9ced92d973b5bbee249ad57f384e4bc">GenerateCamerasDrawFunction</a>() {</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>            <span class="keywordflow">return</span> [&amp;](<span class="keyword">auto</span> <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>, <span class="keyword">auto</span> camera_index) -&gt; <a class="code hl_typedef" href="namespacedz.html#aa02da7cbbd5268e8bc4182ef59392f5b">CameraTuple</a> {</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>                <span class="keyword">auto</span>&amp; camera_group = <a class="code hl_function" href="structdz_1_1_e_c_s.html#adca4061a0a64a3ab65ddf27a19fa374c">GetGroupByIndex&lt;CameraProviderT, typename CameraProviderT::ReflectableGroup&gt;</a>(camera_index);</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>                <span class="keywordflow">return</span> {camera_index, camera_group.framebuffer, [&amp;, camera_index]() {</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>                    <a class="code hl_function" href="namespacedz.html#a831809364efb1f262f465015ff8d2aac">shader_update_push_constant</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a6f28d44373501dc81b7c1ea8b9fcfe49">main_shader</a>, 0, (<span class="keywordtype">void</span>*)&amp;camera_index, <span class="keyword">sizeof</span>(uint32_t));</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>                }};</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>            };</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>        }</div>
</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> </div>
<div class="foldopen" id="foldopen00128" data-start="{" data-end="}">
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a65b11644ed755ecb9e488af8e90aac31">  128</a></span>        <span class="keyword">auto</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a65b11644ed755ecb9e488af8e90aac31">GenerateCameraVisibilityFunction</a>() {</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>            <span class="keywordflow">return</span> [&amp;](<span class="keyword">auto</span> <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>, <span class="keyword">auto</span> camera_index) -&gt; std::vector&lt;int&gt; {</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>                std::vector&lt;int&gt; visible;</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>                <span class="keyword">auto</span>&amp; camera_group = <a class="code hl_function" href="structdz_1_1_e_c_s.html#adca4061a0a64a3ab65ddf27a19fa374c">GetGroupByIndex&lt;CameraProviderT, typename CameraProviderT::ReflectableGroup&gt;</a>(camera_index);</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>                <span class="keyword">auto</span> current_parent_group_ptr = camera_group.parent_ptr;</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>                <span class="keywordflow">while</span> (current_parent_group_ptr) {</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>                    <span class="keyword">auto</span> scene_group_ptr = <span class="keyword">dynamic_cast&lt;</span>SceneProviderT::ReflectableGroup*<span class="keyword">&gt;</span>(current_parent_group_ptr);</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>                    <span class="keywordflow">if</span> (scene_group_ptr) {</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>                    }</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>                    current_parent_group_ptr = current_parent_group_ptr-&gt;parent_ptr;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>                }</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>                <span class="keyword">auto</span> visible_from_node_ptr = (current_parent_group_ptr) ?</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>                    &amp;current_parent_group_ptr-&gt;GetChildren() :</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>                    &amp;<a class="code hl_variable" href="structdz_1_1_e_c_s.html#aa184b5ee6151d57624abf1ca5c6ef979">reflectable_group_root_vector</a>;</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span> </div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>                std::function&lt;void(std::vector&lt;int&gt;&amp;, <span class="keyword">const</span> std::vector&lt;std::shared_ptr&lt;ReflectableGroup&gt;&gt;*, <span class="keywordtype">int</span>)&gt; add_child_entries;</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>                add_child_entries = [&amp;](<span class="keyword">auto</span>&amp; visible, <span class="keyword">auto</span> node_ptr, <span class="keyword">auto</span> scenes_hit) {</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>                    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; ref_group_sh_ptr : *node_ptr) {</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>                        <span class="keyword">auto</span> ref_group_ptr = ref_group_sh_ptr.get();</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>                        assert(ref_group_ptr);</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>                        <span class="keyword">auto</span> e_group_ptr = <span class="keyword">dynamic_cast&lt;</span>DrawProviderT::ReflectableGroup*<span class="keyword">&gt;</span>(ref_group_ptr);</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>                        <span class="keywordflow">if</span> (e_group_ptr) {</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>                            visible.push_back(e_group_ptr-&gt;index);</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>                            add_child_entries(visible, &amp;ref_group_ptr-&gt;GetChildren(), scenes_hit);</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>                        }</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>                        <span class="keyword">auto</span> s_group_ptr = <span class="keyword">dynamic_cast&lt;</span>SceneProviderT::ReflectableGroup*<span class="keyword">&gt;</span>(ref_group_ptr);</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>                        <span class="keywordflow">if</span> (s_group_ptr &amp;&amp; !scenes_hit) {</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>                            add_child_entries(visible, &amp;ref_group_ptr-&gt;GetChildren(), scenes_hit + 1);</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>                        }</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>                        <span class="keyword">auto</span> c_group_ptr = <span class="keyword">dynamic_cast&lt;</span>CameraProviderT::ReflectableGroup*<span class="keyword">&gt;</span>(ref_group_ptr);</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>                        <span class="keywordflow">if</span> (c_group_ptr) {</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>                            <span class="comment">// do nothing for now (and ever?)</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>                        }</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>                    }</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>                };</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>                </div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>                add_child_entries(visible, visible_from_node_ptr, 0);</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>                <span class="keywordflow">return</span> visible;</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>            };</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>        }</div>
</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TqProv<span class="keywordtype">id</span>er&gt;</div>
<div class="foldopen" id="foldopen00176" data-start="{" data-end="}">
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a9fb7e34d142e85553aeddf0eb5cbeff2">  176</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a9fb7e34d142e85553aeddf0eb5cbeff2">IsDrawProviderName</a>(std::string&amp; out_string) {</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>            <span class="keywordflow">if</span> (!out_string.empty())</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>            <span class="keywordflow">if</span> (TqProvider::GetIsDrawProvider()) {</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>                out_string = (TqProvider::GetStructName() + <span class="stringliteral">&quot;s&quot;</span>);</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>            }</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>        }</div>
</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="foldopen" id="foldopen00184" data-start="{" data-end="}">
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#ad5161eaeefd9e85a1299d69cdcea291c">  184</a></span>        std::string <a class="code hl_function" href="structdz_1_1_e_c_s.html#ad5161eaeefd9e85a1299d69cdcea291c">FindBufferNameFromProviders</a>() {</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>            std::string out_string;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>            (<a class="code hl_function" href="structdz_1_1_e_c_s.html#a9fb7e34d142e85553aeddf0eb5cbeff2">IsDrawProviderName&lt;TProviders&gt;</a>(out_string), ...);</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>            <span class="keywordflow">return</span> out_string;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>        }</div>
</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span> </div>
<div class="foldopen" id="foldopen00190" data-start="{" data-end="}">
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#addf6a8997cb15600fced6e9b0ee00f2a">  190</a></span>        <a class="code hl_function" href="structdz_1_1_e_c_s.html#addf6a8997cb15600fced6e9b0ee00f2a">ECS</a>(Serial&amp; serial):</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>            <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aec110b8efc5cbaa9c05f48b2863eb693">buffer_name</a>(<a class="code hl_function" href="structdz_1_1_e_c_s.html#ad5161eaeefd9e85a1299d69cdcea291c">FindBufferNameFromProviders</a>()),</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>            <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a10ddbad34892ad410fa4b1029619787f">window_ptr</a>(<a class="code hl_function" href="namespacedz.html#a1807d93466f486c74b1f9cad553c4891">state_get_ptr</a>&lt;WINDOW&gt;(<a class="code hl_define" href="_state_8hpp.html#afac49944c377dff5dfb5bd6c01d25a47">CID_WINDOW</a>)),</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>            <a class="code hl_variable" href="structdz_1_1_e_c_s.html#af9aec33af76cd4121dbe0a74382a2e45">draw_mg</a>(</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>                <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aec110b8efc5cbaa9c05f48b2863eb693">buffer_name</a>, <a class="code hl_function" href="structdz_1_1_e_c_s.html#a9ff0fed2b091c4bf7559a7b7bd657029">GenerateEntitysDrawFunction</a>(),</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>                <span class="stringliteral">&quot;Cameras&quot;</span>, <a class="code hl_function" href="structdz_1_1_e_c_s.html#af9ced92d973b5bbee249ad57f384e4bc">GenerateCamerasDrawFunction</a>(),</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>                <a class="code hl_function" href="structdz_1_1_e_c_s.html#a65b11644ed755ecb9e488af8e90aac31">GenerateCameraVisibilityFunction</a>()</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>            )</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>        {</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>            <a class="code hl_function" href="structdz_1_1_e_c_s.html#ac0ce0475966805ca0ac8e0df89e487ba">RegisterProviders</a>();</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>            <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a> = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a35458b86709b9d0e992f31d1de65ae1a">CreateBufferGroup</a>();</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>            assert(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>);</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>            <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a6f28d44373501dc81b7c1ea8b9fcfe49">main_shader</a> = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a0938859b80214b3590a7a9c0baa967b4">GenerateMainShader</a>();</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>            <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a3aad0e8d64245cc66f15e5f60ed6a8b3">model_compute_shader</a> = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a49b8d9498ea0a74b078d057fc7ddb214">GenerateModelComputeShader</a>();</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>            <a class="code hl_function" href="structdz_1_1_e_c_s.html#a0bcbd62d3d9da50225552b585563b896">EnableDrawInWindow</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a10ddbad34892ad410fa4b1029619787f">window_ptr</a>);</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>            <a class="code hl_function" href="structdz_1_1_e_c_s.html#a2baea428e44d9dec4cc942c09bbdca58">restore</a>(serial);</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>            <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aef1d55204eac95fd05d02782f1275b5c">loaded_from_io</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>        }</div>
</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span> </div>
<div class="foldopen" id="foldopen00209" data-start="{" data-end="}">
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a8db3a96ea380b52378133d0576f357bf">  209</a></span>        <a class="code hl_function" href="structdz_1_1_e_c_s.html#a8db3a96ea380b52378133d0576f357bf">ECS</a>(WINDOW* initial_window_ptr):</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>            <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aec110b8efc5cbaa9c05f48b2863eb693">buffer_name</a>(<a class="code hl_function" href="structdz_1_1_e_c_s.html#ad5161eaeefd9e85a1299d69cdcea291c">FindBufferNameFromProviders</a>()),</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>            <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a10ddbad34892ad410fa4b1029619787f">window_ptr</a>(initial_window_ptr),</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>            <a class="code hl_variable" href="structdz_1_1_e_c_s.html#af9aec33af76cd4121dbe0a74382a2e45">draw_mg</a>(</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>                <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aec110b8efc5cbaa9c05f48b2863eb693">buffer_name</a>, <a class="code hl_function" href="structdz_1_1_e_c_s.html#a9ff0fed2b091c4bf7559a7b7bd657029">GenerateEntitysDrawFunction</a>(),</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>                <span class="stringliteral">&quot;Cameras&quot;</span>, <a class="code hl_function" href="structdz_1_1_e_c_s.html#af9ced92d973b5bbee249ad57f384e4bc">GenerateCamerasDrawFunction</a>(),</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>                <a class="code hl_function" href="structdz_1_1_e_c_s.html#a65b11644ed755ecb9e488af8e90aac31">GenerateCameraVisibilityFunction</a>()</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>            )</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>        {</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>            <a class="code hl_function" href="structdz_1_1_e_c_s.html#ac0ce0475966805ca0ac8e0df89e487ba">RegisterProviders</a>();</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>            <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a> = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a35458b86709b9d0e992f31d1de65ae1a">CreateBufferGroup</a>();</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>            assert(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>);</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>            <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a6f28d44373501dc81b7c1ea8b9fcfe49">main_shader</a> = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a0938859b80214b3590a7a9c0baa967b4">GenerateMainShader</a>();</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>            <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a3aad0e8d64245cc66f15e5f60ed6a8b3">model_compute_shader</a> = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a49b8d9498ea0a74b078d057fc7ddb214">GenerateModelComputeShader</a>();</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>            <a class="code hl_function" href="structdz_1_1_e_c_s.html#a0bcbd62d3d9da50225552b585563b896">EnableDrawInWindow</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a10ddbad34892ad410fa4b1029619787f">window_ptr</a>);</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>        }</div>
</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span> </div>
<div class="foldopen" id="foldopen00226" data-start="{" data-end="}">
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a1b8f53cb07397c95de397cec7f7fedcc">  226</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a1b8f53cb07397c95de397cec7f7fedcc">MarkReady</a>() {</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a1f3400395a1aed4784021ffd696b169e">buffer_initialized</a>) {</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>                <a class="code hl_function" href="namespacedz.html#aca8c07caa5ad492214fc6b77c2fab235">buffer_group_initialize</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>);</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>                <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a1f3400395a1aed4784021ffd696b169e">buffer_initialized</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>            }</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>        }</div>
</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span> </div>
<div class="foldopen" id="foldopen00233" data-start="{" data-end="}">
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#ab69154ea17945a5eac8b847387a2699b">  233</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#ab69154ea17945a5eac8b847387a2699b">backup</a>(Serial&amp; serial)<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>            std::lock_guard lock(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#ab037f74977e1f4c1c9c86c967695cb9d">e_mutex</a>);</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>            <span class="keywordflow">if</span> (!serial.canWrite())</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>            <span class="comment">// if (!SerializeGroups(serial, id_entity_groups))</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>            <span class="comment">//     return false;</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>            <span class="comment">// if (!SerializeGroups(serial, indexed_camera_groups))</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>            <span class="comment">//     return false;</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>            <span class="comment">// if (!SerializeGroups(serial, indexed_light_groups))</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>            <span class="comment">//     return false;</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>            <span class="comment">// if (!SerializeGroups(serial, id_scene_groups))</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>            <span class="comment">//     return false;</span></div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>            <span class="comment">// if (!SerializeBuffers(serial))</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>            <span class="comment">//     return false;</span></div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>        }</div>
</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span> </div>
<div class="foldopen" id="foldopen00250" data-start="{" data-end="}">
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a2baea428e44d9dec4cc942c09bbdca58">  250</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a2baea428e44d9dec4cc942c09bbdca58">restore</a>(Serial&amp; serial)<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>            std::lock_guard lock(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#ab037f74977e1f4c1c9c86c967695cb9d">e_mutex</a>);</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>            <span class="keywordflow">if</span> (!serial.canRead() || serial.getReadLength() == 0)</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>            <span class="comment">// if (!DeserializeGroups(serial, id_entity_groups))</span></div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>            <span class="comment">//     return false;</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>            <span class="comment">// if (!DeserializeGroups(serial, indexed_camera_groups))</span></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>            <span class="comment">//     return false;</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>            <span class="comment">// if (!DeserializeGroups(serial, indexed_light_groups))</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>            <span class="comment">//     return false;</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>            <span class="comment">// if (!DeserializeGroups(serial, id_scene_groups))</span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>            <span class="comment">//     return false;</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>            <span class="comment">// if (!DeserializeBuffers(serial))</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>            <span class="comment">//     return false;</span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>            <span class="comment">// CheckDisabled();</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>            <span class="comment">// UpdateGroupsChildren(id_entity_groups);</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>            <span class="comment">// UpdateGroupsChildren(indexed_camera_groups);</span></div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>            <span class="comment">// UpdateGroupsChildren(indexed_light_groups);</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>            <span class="comment">// UpdateGroupsChildren(id_scene_groups);</span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>        }</div>
</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span> </div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>        <span class="comment">// void CheckDisabled() {</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        <span class="comment">//     CheckLightDisabled();</span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>        <span class="comment">// }</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span> </div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>        <span class="comment">// void CheckLightDisabled() {</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>        <span class="comment">//     auto r_it = std::find(restricted_keys.begin(), restricted_keys.end(), &quot;Lights&quot;);</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>        <span class="comment">//     // if (r_it == restricted_keys.end())</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>        <span class="comment">//     //     for (auto&amp; [scene_id, scene_group] : id_scene_groups)</span></div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        <span class="comment">//     //         if (scene_group.indexed_reflectable_groups.size() &gt; 0)</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>        <span class="comment">//     //             scene_group.indexed_reflectable_groups.clear();</span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>        <span class="comment">// }</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span> </div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>        <span class="comment">// template &lt;typename KeyT, typename GroupT&gt;</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>        <span class="comment">// bool SerializeGroups(Serial&amp; ioSerial, const std::map&lt;KeyT, GroupT&gt;&amp; groups) {</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>        <span class="comment">//     ioSerial &lt;&lt; groups.size();</span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>        <span class="comment">//     for (auto&amp; [id, group] : groups) {</span></div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>        <span class="comment">//         ioSerial &lt;&lt; id;</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>        <span class="comment">//         if (!group.serialize(*this, ioSerial))</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>        <span class="comment">//             return false;</span></div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>        <span class="comment">//     }</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>        <span class="comment">//     return true;</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>        <span class="comment">// }</span></div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span> </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        <span class="comment">// template &lt;typename KeyT, typename GroupT&gt;</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        <span class="comment">// bool DeserializeGroups(Serial&amp; ioSerial, std::map&lt;KeyT, GroupT&gt;&amp; groups) {</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>        <span class="comment">//     auto size = groups.size();</span></div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>        <span class="comment">//     ioSerial &gt;&gt; size;</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>        <span class="comment">//     for (size_t count = 1; count &lt;= size; ++count) {</span></div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        <span class="comment">//         KeyT id;</span></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>        <span class="comment">//         ioSerial &gt;&gt; id;</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>        <span class="comment">//         auto&amp; group = groups[id];</span></div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>        <span class="comment">//         if (!group.deserialize(*this, ioSerial))</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>        <span class="comment">//             return false;</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>        <span class="comment">//         if constexpr (std::is_same_v&lt;GroupT, CameraReflectableGroup&gt;) {</span></div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        <span class="comment">//             auto&amp; width = *window_get_width_ref(window_ptr);</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>        <span class="comment">//             auto&amp; height = *window_get_height_ref(window_ptr);</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>        <span class="comment">//             group.InitFramebuffer(*this, width, height);</span></div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>        <span class="comment">//         }</span></div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        <span class="comment">//     }</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>        <span class="comment">//     return true;</span></div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>        <span class="comment">// }</span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span> </div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>        <span class="comment">// template &lt;typename KeyT, typename GroupT&gt;</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>        <span class="comment">// void UpdateGroupsChildren(std::map&lt;KeyT, GroupT&gt;&amp; groups) {</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>        <span class="comment">//     for (auto&amp; [id, group] : groups) {</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>        <span class="comment">//         group.UpdateChildren(*this);</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>        <span class="comment">//         if constexpr (std::is_same_v&lt;GroupT, EntityReflectableGroup&gt;)</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>        <span class="comment">//             group.UpdateReflectables();</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>        <span class="comment">//     }</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>        <span class="comment">// }</span></div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span> </div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>        <span class="comment">// bool DeserializeBuffers(Serial&amp; ioSerial) {</span></div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>        <span class="comment">//     if (!buffer_group)</span></div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>        <span class="comment">//         return false;</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>        <span class="comment">//     auto keys_size = restricted_keys.size();</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>        <span class="comment">//     ioSerial &gt;&gt; keys_size;</span></div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>        <span class="comment">//     for (size_t key_count = 1; key_count &lt;= keys_size; ++key_count) {</span></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>        <span class="comment">//         std::string restricted_key;</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>        <span class="comment">//         ioSerial &gt;&gt; restricted_key;</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>        <span class="comment">//         uint32_t element_count, element_size;</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>        <span class="comment">//         ioSerial &gt;&gt; element_count &gt;&gt; element_size;</span></div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>        <span class="comment">//         auto buffer_size = element_count * element_size;</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>        <span class="comment">//         auto r_key_it = std::find(restricted_keys.begin(), restricted_keys.end(), restricted_key);</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        <span class="comment">//         if (r_key_it == restricted_keys.end()) {</span></div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        <span class="comment">//             auto bytes = (char*)malloc(buffer_size);</span></div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>        <span class="comment">//             ioSerial.readBytes((char*)bytes, buffer_size);</span></div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>        <span class="comment">//             free(bytes);</span></div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>        <span class="comment">//             continue;</span></div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>        <span class="comment">//         }</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>        <span class="comment">//         buffer_group_set_buffer_element_count(buffer_group, restricted_key, element_count);</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>        <span class="comment">//         auto actual_element_size = buffer_group_get_buffer_element_size(buffer_group, restricted_key);</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        <span class="comment">//         if (actual_element_size != element_size)</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>        <span class="comment">//             throw std::runtime_error(&quot;Incompatible buffer element sizes&quot;);</span></div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>        <span class="comment">//         auto buffer_ptr = buffer_group_get_buffer_data_ptr(buffer_group, restricted_key);</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        <span class="comment">//         ioSerial.readBytes((char*)buffer_ptr.get(), buffer_size);</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>        <span class="comment">//     }</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>        <span class="comment">//     return true;</span></div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>        <span class="comment">// }</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span> </div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>        <span class="comment">// bool SerializeBuffers(Serial&amp; ioSerial) {</span></div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>        <span class="comment">//     if (!buffer_group)</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>        <span class="comment">//         return false;</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>        <span class="comment">//     auto keys_size = restricted_keys.size();</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>        <span class="comment">//     ioSerial &lt;&lt; keys_size;</span></div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>        <span class="comment">//     for (auto&amp; restricted_key : restricted_keys) {</span></div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>        <span class="comment">//         ioSerial &lt;&lt; restricted_key;</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>        <span class="comment">//         auto element_count = buffer_group_get_buffer_element_count(buffer_group, restricted_key);</span></div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>        <span class="comment">//         auto element_size = buffer_group_get_buffer_element_size(buffer_group, restricted_key);</span></div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>        <span class="comment">//         ioSerial &lt;&lt; element_count &lt;&lt; element_size;</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>        <span class="comment">//         auto buffer_ptr = buffer_group_get_buffer_data_ptr(buffer_group, restricted_key);</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>        <span class="comment">//         ioSerial.writeBytes((const char*)buffer_ptr.get(), element_count * element_size);</span></div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>        <span class="comment">//     }</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>        <span class="comment">//     return true;</span></div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>        <span class="comment">// }</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span> </div>
<div class="foldopen" id="foldopen00367" data-start="{" data-end="}">
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#ac0ce0475966805ca0ac8e0df89e487ba">  367</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#ac0ce0475966805ca0ac8e0df89e487ba">RegisterProviders</a>() {</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>            (<a class="code hl_function" href="structdz_1_1_e_c_s.html#a041f577d62852ad760f548981bb82836">RegisterProvider&lt;TProviders&gt;</a>(), ...);</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>        }</div>
</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span> </div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TProv<span class="keywordtype">id</span>er&gt;</div>
<div class="foldopen" id="foldopen00372" data-start="{" data-end="}">
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a041f577d62852ad760f548981bb82836">  372</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a041f577d62852ad760f548981bb82836">RegisterProvider</a>() {</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>            std::lock_guard lock(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#ab037f74977e1f4c1c9c86c967695cb9d">e_mutex</a>);</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>            <span class="keyword">auto</span> priority = TProvider::GetPriority();</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>            <span class="keyword">auto</span>&amp; name = TProvider::GetProviderName();</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>            <span class="keyword">auto</span>&amp; struct_name = TProvider::GetStructName();</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>            <span class="keyword">auto</span>&amp; glsl_struct = TProvider::GetGLSLStruct();</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>            <span class="keyword">auto</span>&amp; glsl_methods = TProvider::GetGLSLMethods();</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>            <span class="keyword">auto</span>&amp; priority_glsl_main = TProvider::GetGLSLMain();</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>            <span class="keyword">constexpr</span> <span class="keyword">auto</span> pid = TProvider::GetPID();</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>            <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2af4eafcbe67f8d6b06a1f0fbb31ccb8">prioritized_provider_ids</a>[priority].push_back(pid);</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>            <span class="keyword">auto</span> provider_index = <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aea0871faeaa60fbc78c0b587764179a2">id_provider_groups</a>.size();</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>            <span class="keyword">auto</span>&amp; provider_group = <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aea0871faeaa60fbc78c0b587764179a2">id_provider_groups</a>[pid];</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>            provider_group.index = provider_index;</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>            provider_group.id = pid;</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>            provider_group.name = name;</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>            provider_group.struct_name = struct_name;</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>            provider_group.buffer_name = (struct_name + <span class="stringliteral">&quot;s&quot;</span>);</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>            provider_group.glsl_struct = glsl_struct;</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>            provider_group.glsl_methods = glsl_methods;</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>            provider_group.is_component = TProvider::GetIsComponent();</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [main_priority, main_string, module_type] : priority_glsl_main) {</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>                <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aa6f0ab28e7efafccc15fc97b40bb8ac3">priority_glsl_mains</a>[module_type][main_priority].push_back(main_string);</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>            }</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>            <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (TProvider::GetIsComponent()) {</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>                provider_group.sparse_name = (<span class="stringliteral">&quot;Sparse&quot;</span> + struct_name + <span class="stringliteral">&quot;s&quot;</span>);</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>                provider_group.component_id = int(TProvider::GetComponentID());</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>                <a class="code hl_function" href="structdz_1_1_e_c_s.html#a03458c6fb19cd356f36ce16cf9cd5a68">RegisterComponent&lt;TProvider&gt;</a>();</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>            }</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>        }</div>
</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span> </div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> TRComponent&gt;</div>
<div class="foldopen" id="foldopen00403" data-start="{" data-end="}">
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a03458c6fb19cd356f36ce16cf9cd5a68">  403</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a03458c6fb19cd356f36ce16cf9cd5a68">RegisterComponent</a>() {</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>            <span class="keyword">auto</span> ID = int(TRComponent::GetComponentID());</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>            <span class="keyword">auto</span>&amp; StructName = TRComponent::GetStructName();</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>            <a class="code hl_variable" href="structdz_1_1_e_c_s.html#ac2955d3c4318a33e0eaaa506849a7d9c">registered_component_map</a>[ID] = {</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>                .type_id = ID,</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>                .struct_name = StructName,</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>                .buffer_name = StructName + <span class="stringliteral">&quot;s&quot;</span>,</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>                .sparse_name = (<span class="stringliteral">&quot;Sparse&quot;</span> + StructName + <span class="stringliteral">&quot;s&quot;</span>)</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>            };</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>        }</div>
</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span> </div>
<div class="foldopen" id="foldopen00415" data-start="{" data-end="}">
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a1835b10dd309ba731024aeb55258ed6d">  415</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a1835b10dd309ba731024aeb55258ed6d">RegisterComponents</a>(<span class="keyword">const</span> std::function&lt;<span class="keywordtype">bool</span>(<a class="code hl_function" href="structdz_1_1_e_c_s.html#addf6a8997cb15600fced6e9b0ee00f2a">ECS</a>&amp;)&gt;&amp; register_all_components_fn) {</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>            std::lock_guard lock(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#ab037f74977e1f4c1c9c86c967695cb9d">e_mutex</a>);</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>            <span class="keywordflow">if</span> (register_all_components_fn) {</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>                <span class="keywordflow">return</span> register_all_components_fn(*<span class="keyword">this</span>);</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>            }</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>        }</div>
</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span> </div>
<div class="foldopen" id="foldopen00423" data-start="{" data-end="}">
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a56541cb5ba821513658ca415de7445ed">  423</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a56541cb5ba821513658ca415de7445ed">Resize</a>(<span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacedz.html#afd06ebccef528e9b8775b1f392cb20d3a7b8b965ad4bca0e41ab51de7b31363a1">n</a>) {</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>            std::lock_guard lock(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#ab037f74977e1f4c1c9c86c967695cb9d">e_mutex</a>);</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>            <a class="code hl_function" href="namespacedz.html#a227508c7e5d55ad3ebe02c0e547c2869">buffer_group_set_buffer_element_count</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>, <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aec110b8efc5cbaa9c05f48b2863eb693">buffer_name</a>, <a class="code hl_enumvalue" href="namespacedz.html#afd06ebccef528e9b8775b1f392cb20d3a7b8b965ad4bca0e41ab51de7b31363a1">n</a>);</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [component_id, component_entry] : <a class="code hl_variable" href="structdz_1_1_e_c_s.html#ac2955d3c4318a33e0eaaa506849a7d9c">registered_component_map</a>) {</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>                <span class="keyword">auto</span> sparse_buffer_name = component_entry.sparse_name;</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>                <span class="keyword">auto</span> sparse_buffer_old_count = <a class="code hl_function" href="namespacedz.html#a5f84b57a057a48a60cf6c134620e50fb">buffer_group_get_buffer_element_count</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>, sparse_buffer_name);</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>                <a class="code hl_function" href="namespacedz.html#a227508c7e5d55ad3ebe02c0e547c2869">buffer_group_set_buffer_element_count</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>, sparse_buffer_name, <a class="code hl_enumvalue" href="namespacedz.html#afd06ebccef528e9b8775b1f392cb20d3a7b8b965ad4bca0e41ab51de7b31363a1">n</a>);</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>                <span class="keyword">auto</span> sparse_buffer = <a class="code hl_function" href="namespacedz.html#ac22b64de93232168c6f6dd270335fb85">buffer_group_get_buffer_data_ptr</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>, sparse_buffer_name);</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>                <span class="keyword">auto</span> int_ptr = (<span class="keywordtype">int</span>*)(sparse_buffer.get());</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_enumvalue" href="namespacedz.html#afd06ebccef528e9b8775b1f392cb20d3a865c0c0b4ab0e063e5caa3387c1a8741">i</a> = sparse_buffer_old_count; <a class="code hl_enumvalue" href="namespacedz.html#afd06ebccef528e9b8775b1f392cb20d3a865c0c0b4ab0e063e5caa3387c1a8741">i</a> &lt; <a class="code hl_enumvalue" href="namespacedz.html#afd06ebccef528e9b8775b1f392cb20d3a7b8b965ad4bca0e41ab51de7b31363a1">n</a>; ++<a class="code hl_enumvalue" href="namespacedz.html#afd06ebccef528e9b8775b1f392cb20d3a865c0c0b4ab0e063e5caa3387c1a8741">i</a>)</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>                    int_ptr[<a class="code hl_enumvalue" href="namespacedz.html#afd06ebccef528e9b8775b1f392cb20d3a865c0c0b4ab0e063e5caa3387c1a8741">i</a>] = -1;</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>            }</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>            <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a203bacf57f40e1ef54e08893db99d4fa">buffer_size</a> = <a class="code hl_enumvalue" href="namespacedz.html#afd06ebccef528e9b8775b1f392cb20d3a7b8b965ad4bca0e41ab51de7b31363a1">n</a>;</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>        }</div>
</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span> </div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="foldopen" id="foldopen00440" data-start="{" data-end="}">
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a267236b52a0e25548910fd60238c806f">  440</a></span>        <a class="code hl_enumvalue" href="namespacedz.html#a095afbb2455f55f3b5d5c6c1190e92dbab9ece18c950afbfa6b0fdbfa4ff731d3">T</a>&amp; <a class="code hl_function" href="structdz_1_1_e_c_s.html#a267236b52a0e25548910fd60238c806f">InsertReflectableGroup</a>(std::vector&lt;std::shared_ptr&lt;ReflectableGroup&gt;&gt;&amp; children) {</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>            <span class="keyword">auto</span> index = children.size();</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>            children.push_back(std::make_shared&lt;T&gt;());</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>            <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><a class="code hl_enumvalue" href="namespacedz.html#a095afbb2455f55f3b5d5c6c1190e92dbab9ece18c950afbfa6b0fdbfa4ff731d3">T</a>&amp;<span class="keyword">&gt;</span>(*children[index]);</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>        }</div>
</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span> </div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TData, <span class="keyword">typename</span> TProv<span class="keywordtype">id</span>er&gt;</div>
<div class="foldopen" id="foldopen00447" data-start="{" data-end="}">
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a895019ed598d8a157d32d868ffdde734">  447</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a895019ed598d8a157d32d868ffdde734">AddProviderSingle</a>(<span class="keywordtype">int</span> parent_id, <span class="keywordtype">size_t</span>&amp; <span class="keywordtype">id</span>, <span class="keyword">const</span> TData&amp; data, std::vector&lt;std::shared_ptr&lt;ReflectableGroup&gt;&gt;&amp; reflectable_group_vector) {</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>            <span class="keywordflow">if</span> (<span class="keywordtype">id</span>)</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>            <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (!(std::is_same_v&lt;TData, TProvider&gt;))</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>            <span class="keyword">constexpr</span> <span class="keyword">auto</span> pid = TProvider::GetPID();</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>            <span class="keyword">auto</span> ecs_id = <a class="code hl_function" href="structdz_1_1_global_u_i_d.html#a7b8d8ad586c0a769031e109ec8e53a59">GlobalUID::GetNew</a>(<span class="stringliteral">&quot;ECS:GID&quot;</span>);</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>            <span class="keyword">auto</span> pro_id = <a class="code hl_function" href="structdz_1_1_global_u_i_d.html#a7b8d8ad586c0a769031e109ec8e53a59">GlobalUID::GetNew</a>((<span class="stringliteral">&quot;ECS:PID:&quot;</span> + std::to_string(pid)));</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>            std::lock_guard lock(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#ab037f74977e1f4c1c9c86c967695cb9d">e_mutex</a>);</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>            <span class="keyword">auto</span> root_index = reflectable_group_vector.size();</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>            <span class="keyword">auto</span> group_ptr = TProvider::TryMakeGroup(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>);</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>            reflectable_group_vector.push_back(group_ptr);</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>            <span class="keyword">auto</span>&amp; group = *group_ptr;</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>            group.id = ecs_id;</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>            group.GetName() += (<span class="stringliteral">&quot; #&quot;</span> + std::to_string(pro_id));</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>            <span class="keyword">auto</span>&amp; provider_group = <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aea0871faeaa60fbc78c0b587764179a2">id_provider_groups</a>[pid];</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>            <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a68691bef47fb757e049898fc664e20c9">provider_id_reflectable_maps</a>[pid][ecs_id] = group_ptr.get();</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>            <span class="keywordtype">id</span> = ecs_id;</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>            <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a9480cc5ed75db8b120997363ed872a2e">provider_index_vectors</a>[pid].push_back(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>            <span class="keyword">auto</span> provider_index = <a class="code hl_function" href="namespacedz.html#a5f84b57a057a48a60cf6c134620e50fb">buffer_group_get_buffer_element_count</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>, provider_group.buffer_name);</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>            group.index = provider_index;</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>            <span class="keywordflow">if</span> (provider_group.buffer_name == <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aec110b8efc5cbaa9c05f48b2863eb693">buffer_name</a>)</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>                <a class="code hl_function" href="structdz_1_1_e_c_s.html#a56541cb5ba821513658ca415de7445ed">Resize</a>(provider_index + 1);</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>                <a class="code hl_function" href="namespacedz.html#a227508c7e5d55ad3ebe02c0e547c2869">buffer_group_set_buffer_element_count</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>, provider_group.buffer_name, provider_index + 1);</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>            <span class="keyword">auto</span> buffer = <a class="code hl_function" href="namespacedz.html#ac22b64de93232168c6f6dd270335fb85">buffer_group_get_buffer_data_ptr</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>, provider_group.buffer_name);</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>            <span class="keyword">auto</span> data_ptr = ((TData*)(buffer.get()));</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>            data_ptr[provider_index] = data;</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>            <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (std::is_same_v&lt;TData, DrawProviderT&gt;) {</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>                data_ptr[provider_index].id = ecs_id;</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>            }</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>            <span class="keyword">auto</span> parent_group_ptr = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a875f65d5dc59c331ffb2a866f92c76a2">FindParentGroupPtr</a>(parent_id);</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>            <span class="keywordflow">if</span> (parent_group_ptr) {</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>                group.parent_ptr = parent_group_ptr;</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>            }</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>            <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (TProvider::GetIsComponent()) {</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>                <span class="keyword">auto</span>&amp; parent_entity_group = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a7d58a431e8a01761415e866ba43a5e33">GetGroup&lt;DrawProviderT, typename DrawProviderT::ReflectableGroup&gt;</a>(parent_id);</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span> </div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>                <span class="keyword">auto</span> sparse = <a class="code hl_function" href="namespacedz.html#ac22b64de93232168c6f6dd270335fb85">buffer_group_get_buffer_data_ptr</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>, provider_group.sparse_name);</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>                <span class="keyword">auto</span> sparse_ptr = ((<span class="keywordtype">int</span>*)(sparse.get()));</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span> </div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>                sparse_ptr[parent_entity_group.index] = provider_index;</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>            }</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>            group.UpdateChildren();</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>            <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (std::is_same_v&lt;TProvider, DrawProviderT&gt; || std::is_same_v&lt;TProvider, CameraProviderT&gt;) {</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>                <a class="code hl_variable" href="structdz_1_1_e_c_s.html#af9aec33af76cd4121dbe0a74382a2e45">draw_mg</a>.SetDirty();</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>            }</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>        }</div>
</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span> </div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TData&gt;</div>
<div class="foldopen" id="foldopen00497" data-start="{" data-end="}">
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a90f17c45a1cbca84424d545c5a740552">  497</a></span>        <span class="keywordtype">size_t</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a90f17c45a1cbca84424d545c5a740552">AddProvider</a>(<span class="keywordtype">int</span> parent_id, <span class="keyword">const</span> TData&amp; data, std::vector&lt;std::shared_ptr&lt;ReflectableGroup&gt;&gt;&amp; reflectable_group_vector) {</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>            <span class="keywordtype">size_t</span> <span class="keywordtype">id</span> = 0;</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>            (<a class="code hl_function" href="structdz_1_1_e_c_s.html#a895019ed598d8a157d32d868ffdde734">AddProviderSingle&lt;TData, TProviders&gt;</a>(parent_id, <span class="keywordtype">id</span>, data, reflectable_group_vector), ...);</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>            <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>)</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Unable to find Provider supporting TData&quot;</span>);</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>            <span class="keywordflow">return</span> id;</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>        }</div>
</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span> </div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TEntity&gt;</div>
<div class="foldopen" id="foldopen00506" data-start="{" data-end="}">
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#ab467240e8eff632827e3f1ab2191b0db">  506</a></span>        <span class="keywordtype">size_t</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#ab467240e8eff632827e3f1ab2191b0db">AddEntity</a>(<span class="keywordtype">int</span> parent_id, <span class="keyword">const</span> TEntity&amp; entity_data) {</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>            <span class="keyword">auto</span> parent_group_ptr = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a875f65d5dc59c331ffb2a866f92c76a2">FindParentGroupPtr</a>(parent_id);</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a90f17c45a1cbca84424d545c5a740552">AddProvider&lt;TEntity&gt;</a>(parent_id, entity_data,</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>                parent_group_ptr ? parent_group_ptr-&gt;GetChildren() : <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aa184b5ee6151d57624abf1ca5c6ef979">reflectable_group_root_vector</a>);</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>        }</div>
</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span> </div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TEntity&gt;</div>
<div class="foldopen" id="foldopen00513" data-start="{" data-end="}">
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a2410b54fdc5e22e68a1b9cbf21dc7537">  513</a></span>        <span class="keywordtype">size_t</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a2410b54fdc5e22e68a1b9cbf21dc7537">AddEntity</a>(<span class="keyword">const</span> TEntity&amp; entity_data) {</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#ab467240e8eff632827e3f1ab2191b0db">AddEntity&lt;TEntity&gt;</a>(-1, entity_data);</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>        }</div>
</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span> </div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TScene&gt;</div>
<div class="foldopen" id="foldopen00518" data-start="{" data-end="}">
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a5dae6f2623f853691de7b90f941086d8">  518</a></span>        <span class="keywordtype">size_t</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a5dae6f2623f853691de7b90f941086d8">AddScene</a>(<span class="keywordtype">int</span> parent_id, <span class="keyword">const</span> TScene&amp; entity_data) {</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>            <span class="keyword">auto</span> parent_group_ptr = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a875f65d5dc59c331ffb2a866f92c76a2">FindParentGroupPtr</a>(parent_id);</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a90f17c45a1cbca84424d545c5a740552">AddProvider&lt;TScene&gt;</a>(parent_id, entity_data,</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>                parent_group_ptr ? parent_group_ptr-&gt;GetChildren() : <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aa184b5ee6151d57624abf1ca5c6ef979">reflectable_group_root_vector</a>);</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>        }</div>
</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span> </div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TScene&gt;</div>
<div class="foldopen" id="foldopen00525" data-start="{" data-end="}">
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a24e09bfc039e62a19e44e24279989315">  525</a></span>        <span class="keywordtype">size_t</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a24e09bfc039e62a19e44e24279989315">AddScene</a>(<span class="keyword">const</span> TScene&amp; entity_data) {</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a5dae6f2623f853691de7b90f941086d8">AddScene&lt;TScene&gt;</a>(-1, entity_data);</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>        }</div>
</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span> </div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TProv<span class="keywordtype">id</span>er, <span class="keyword">typename</span> TReflectableGroup&gt;</div>
<div class="foldopen" id="foldopen00530" data-start="{" data-end="}">
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#adca4061a0a64a3ab65ddf27a19fa374c">  530</a></span>        TReflectableGroup&amp; <a class="code hl_function" href="structdz_1_1_e_c_s.html#adca4061a0a64a3ab65ddf27a19fa374c">GetGroupByIndex</a>(<span class="keywordtype">size_t</span> index) {</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>            assert(index &gt;= 0);</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>            <span class="keyword">constexpr</span> <span class="keyword">auto</span> pid = TProvider::GetPID();</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>            <span class="keyword">auto</span>&amp; id_vec = <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a9480cc5ed75db8b120997363ed872a2e">provider_index_vectors</a>[pid];</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>            <span class="keywordflow">if</span> (index &gt;= id_vec.size())</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Index out of range&quot;</span>);</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>            <span class="keyword">auto</span> <span class="keywordtype">id</span> = id_vec[index];</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>            assert(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a7d58a431e8a01761415e866ba43a5e33">GetGroup&lt;TProvider, TReflectableGroup&gt;</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>        }</div>
</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span> </div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TProv<span class="keywordtype">id</span>er, <span class="keyword">typename</span> TReflectableGroup&gt;</div>
<div class="foldopen" id="foldopen00542" data-start="{" data-end="}">
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a7d58a431e8a01761415e866ba43a5e33">  542</a></span>        TReflectableGroup&amp; <a class="code hl_function" href="structdz_1_1_e_c_s.html#a7d58a431e8a01761415e866ba43a5e33">GetGroup</a>(<span class="keywordtype">size_t</span> <span class="keywordtype">id</span>) {</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>            <span class="keyword">constexpr</span> <span class="keyword">auto</span> pid = TProvider::GetPID();</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>            <span class="keyword">auto</span>&amp; ref_map = <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a68691bef47fb757e049898fc664e20c9">provider_id_reflectable_maps</a>[pid];</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>            <span class="keyword">auto</span> it = ref_map.find(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>            <span class="keywordflow">if</span> (it == ref_map.end())</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Provider not found with id&quot;</span>);</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>            <span class="keyword">auto</span> group_ptr = it-&gt;second;</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>            <span class="keyword">auto</span> cast_ptr = <span class="keyword">dynamic_cast&lt;</span>TReflectableGroup*<span class="keyword">&gt;</span>(group_ptr);</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>            <span class="keywordflow">if</span> (!cast_ptr)</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Group is not of type TReflectableGroup&quot;</span>);</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>            <span class="keywordflow">return</span> *cast_ptr;</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>        }</div>
</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span> </div>
<div class="foldopen" id="foldopen00555" data-start="{" data-end="}">
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a875f65d5dc59c331ffb2a866f92c76a2">  555</a></span>        <a class="code hl_struct" href="struct_reflectable_group.html">ReflectableGroup</a>* <a class="code hl_function" href="structdz_1_1_e_c_s.html#a875f65d5dc59c331ffb2a866f92c76a2">FindParentGroupPtr</a>(<span class="keywordtype">int</span> parent_id) {</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>            <span class="keywordflow">if</span> (parent_id == -1)</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>                <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [pid, ref_map] : <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a68691bef47fb757e049898fc664e20c9">provider_id_reflectable_maps</a>) {</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>                <span class="keyword">auto</span> it = ref_map.find(parent_id);</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>                <span class="keywordflow">if</span> (it == ref_map.end())</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>                <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>            }</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>            <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>        }</div>
</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span> </div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TProv<span class="keywordtype">id</span>er&gt;</div>
<div class="foldopen" id="foldopen00568" data-start="{" data-end="}">
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#aaf3c01af894a27d5cad0930bae4893ac">  568</a></span>        std::map&lt;size_t, ReflectableGroup*&gt;::iterator <a class="code hl_function" href="structdz_1_1_e_c_s.html#aaf3c01af894a27d5cad0930bae4893ac">GetProviderBegin</a>() {</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>            <span class="keyword">constexpr</span> <span class="keyword">auto</span> pid = TProvider::GetPID();</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>            <span class="keyword">auto</span> ref_map_it = <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a68691bef47fb757e049898fc664e20c9">provider_id_reflectable_maps</a>.find(pid);</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>            <span class="keywordflow">if</span> (ref_map_it == <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a68691bef47fb757e049898fc664e20c9">provider_id_reflectable_maps</a>.end())</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Provider not found&quot;</span>);</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>            <span class="keywordflow">return</span> ref_map_it-&gt;second.begin();</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>        }</div>
</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span> </div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TProv<span class="keywordtype">id</span>er&gt;</div>
<div class="foldopen" id="foldopen00577" data-start="{" data-end="}">
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a8372a88c76f4bf3311665ab878a887a0">  577</a></span>        std::map&lt;size_t, ReflectableGroup*&gt;::iterator <a class="code hl_function" href="structdz_1_1_e_c_s.html#a8372a88c76f4bf3311665ab878a887a0">GetProviderEnd</a>() {</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>            <span class="keyword">constexpr</span> <span class="keyword">auto</span> pid = TProvider::GetPID();</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>            <span class="keyword">auto</span> ref_map_it = <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a68691bef47fb757e049898fc664e20c9">provider_id_reflectable_maps</a>.find(pid);</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>            <span class="keywordflow">if</span> (ref_map_it == <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a68691bef47fb757e049898fc664e20c9">provider_id_reflectable_maps</a>.end())</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Provider not found&quot;</span>);</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>            <span class="keywordflow">return</span> ref_map_it-&gt;second.end();</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>        }</div>
</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span> </div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TProv<span class="keywordtype">id</span>er&gt;</div>
<div class="foldopen" id="foldopen00586" data-start="{" data-end="}">
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#acfba559f2767b610c518deb69488de55">  586</a></span>        TProvider&amp; <a class="code hl_function" href="structdz_1_1_e_c_s.html#acfba559f2767b610c518deb69488de55">GetProviderData</a>(<span class="keywordtype">size_t</span> <span class="keywordtype">id</span>) {</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>            <span class="keyword">constexpr</span> <span class="keyword">auto</span> pid = TProvider::GetPID();</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>            <span class="keyword">auto</span>&amp; ref_map = <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a68691bef47fb757e049898fc664e20c9">provider_id_reflectable_maps</a>[pid];</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>            <span class="keyword">auto</span> it = ref_map.find(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>            <span class="keywordflow">if</span> (it == ref_map.end())</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Provider not found with id&quot;</span>);</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>            <span class="keyword">auto</span> index = it-&gt;second-&gt;index;</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>            <span class="keyword">auto</span> provider_b_name = TProvider::GetStructName() + <span class="stringliteral">&quot;s&quot;</span>;</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>            <span class="keyword">auto</span> p_buff = <a class="code hl_function" href="namespacedz.html#ac22b64de93232168c6f6dd270335fb85">buffer_group_get_buffer_data_ptr</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>, provider_b_name);</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>            <span class="keyword">auto</span> p_ptr = ((TProvider*)p_buff.get());</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>            <span class="keywordflow">return</span> p_ptr[index];</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>        }</div>
</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span> </div>
<div class="foldopen" id="foldopen00599" data-start="{" data-end="}">
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a063bb7a0201f384f035ba0ed06a9392c">  599</a></span>        <a class="code hl_typedef" href="structdz_1_1_e_c_s.html#aa76c8846cb78da2c9a80015d27b6fd4e">DrawProviderT</a>&amp; <a class="code hl_function" href="structdz_1_1_e_c_s.html#a063bb7a0201f384f035ba0ed06a9392c">GetEntity</a>(<span class="keywordtype">size_t</span> entity_id) {</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#acfba559f2767b610c518deb69488de55">GetProviderData&lt;DrawProviderT&gt;</a>(entity_id);</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>        }</div>
</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span> </div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TCamera&gt;</div>
<div class="foldopen" id="foldopen00604" data-start="{" data-end="}">
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#adff260814f68c73c5dd5ffe610b68f5c">  604</a></span>        <span class="keywordtype">size_t</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#adff260814f68c73c5dd5ffe610b68f5c">AddCamera</a>(<span class="keywordtype">size_t</span> parent_id, <span class="keyword">const</span> TCamera&amp; camera_data, TCamera::ProjectionType projectionType) {</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>            <span class="keyword">auto</span> parent_group_ptr = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a875f65d5dc59c331ffb2a866f92c76a2">FindParentGroupPtr</a>(parent_id);</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>            <span class="keyword">auto</span> camera_id = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a90f17c45a1cbca84424d545c5a740552">AddProvider&lt;TCamera&gt;</a>(parent_id, camera_data,</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>                parent_group_ptr ? parent_group_ptr-&gt;GetChildren() : <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aa184b5ee6151d57624abf1ca5c6ef979">reflectable_group_root_vector</a>);</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span> </div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>            <span class="keyword">auto</span>&amp; camera = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a316bca99781292a9154bccee4cd1060f">GetCamera</a>(camera_id);</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>            <span class="keyword">auto</span>&amp; camera_group = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a7d58a431e8a01761415e866ba43a5e33">GetGroup&lt;TCamera, typename TCamera::ReflectableGroup&gt;</a>(camera_id);</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span> </div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>            <span class="keyword">auto</span>&amp; width = *<a class="code hl_function" href="namespacedz.html#a02dc67ed1d77eb4d55a620b2f35aea62">window_get_width_ref</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a10ddbad34892ad410fa4b1029619787f">window_ptr</a>);</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>            <span class="keyword">auto</span>&amp; height = *<a class="code hl_function" href="namespacedz.html#a287396fc86f3e51fbd57e8ccaafdd0cf">window_get_height_ref</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a10ddbad34892ad410fa4b1029619787f">window_ptr</a>);</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>            <span class="comment">// Initialize camera matrices</span></div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>            {</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>                <span class="keywordflow">switch</span>(projectionType) {</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>                <span class="keywordflow">case</span> TCamera::Perspective:</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>                    <a class="code hl_function" href="namespacedz.html#a1082b01fce46f98a7cd523e39e36fd11">CameraInit</a>(camera, {0, 0, 10}, {0, 0, 0}, {0, 1, 0}, 0.25f, 1000.f, width, height, <a class="code hl_function" href="namespacedz.html#a11ae1a19c0477cb9a8d20aedcc530e7b">radians</a>(81.f));</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>                <span class="keywordflow">case</span> TCamera::Orthographic:</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>                    <a class="code hl_function" href="namespacedz.html#a1082b01fce46f98a7cd523e39e36fd11">CameraInit</a>(camera, {0, 0, 10}, {0, 0, 0}, {0, 1, 0}, 0.25f, 1000.f, <a class="code hl_struct" href="structdz_1_1vec.html">vec&lt;float, 4&gt;</a>(0, 0, width, height));</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>                }</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>            }</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span> </div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>            camera_group.NotifyNameChanged();</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>            camera_group.InitFramebuffer(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a6f28d44373501dc81b7c1ea8b9fcfe49">main_shader</a>, width, height);</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span> </div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>            <span class="keywordflow">return</span> camera_id;</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>        }</div>
</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span> </div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TCamera&gt;</div>
<div class="foldopen" id="foldopen00633" data-start="{" data-end="}">
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a70b394c7a19e8908bf91cd2d104b54ea">  633</a></span>        <span class="keywordtype">size_t</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a70b394c7a19e8908bf91cd2d104b54ea">AddCamera</a>(<span class="keyword">const</span> TCamera&amp; camera_data, TCamera::ProjectionType projectionType) {</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#adff260814f68c73c5dd5ffe610b68f5c">AddCamera&lt;TCamera&gt;</a>(-1, camera_data, projectionType);</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        }</div>
</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span> </div>
<div class="foldopen" id="foldopen00637" data-start="{" data-end="}">
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a316bca99781292a9154bccee4cd1060f">  637</a></span>        <a class="code hl_typedef" href="structdz_1_1_e_c_s.html#aff6ca6c2589732b628b7fcea0fec5bef">CameraProviderT</a>&amp; <a class="code hl_function" href="structdz_1_1_e_c_s.html#a316bca99781292a9154bccee4cd1060f">GetCamera</a>(<span class="keywordtype">size_t</span> camera_id) {</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#acfba559f2767b610c518deb69488de55">GetProviderData&lt;CameraProviderT&gt;</a>(camera_id);</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>        }</div>
</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span> </div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TComponent&gt;</div>
<div class="foldopen" id="foldopen00642" data-start="{" data-end="}">
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#aed8bde66f8ea4589c45f1bd41f7e2820">  642</a></span>        <span class="keywordtype">size_t</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#aed8bde66f8ea4589c45f1bd41f7e2820">ConstructComponent</a>(<span class="keywordtype">size_t</span> entity_id, <span class="keyword">const</span> TComponent&amp; data) {</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>            <span class="keyword">auto</span>&amp; entity = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a063bb7a0201f384f035ba0ed06a9392c">GetEntity</a>(entity_id);</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>            <span class="keyword">auto</span>&amp; entity_group = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a7d58a431e8a01761415e866ba43a5e33">GetGroup&lt;DrawProviderT, typename DrawProviderT::ReflectableGroup&gt;</a>(entity_id);</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>            <span class="keyword">constexpr</span> <span class="keyword">auto</span> component_type_id = TComponent::GetComponentID();</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>            <span class="keywordtype">int</span> mask = 1 &lt;&lt; (component_type_id - 1);</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>            <span class="keywordflow">if</span> (entity.enabled_components &amp; mask)</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Component already exists&quot;</span>);</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>            <span class="keyword">auto</span> component_id = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a90f17c45a1cbca84424d545c5a740552">AddProvider&lt;TComponent&gt;</a>(entity_id, data, entity_group.component_groups);</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>            <span class="keyword">auto</span>&amp; component = <a class="code hl_function" href="structdz_1_1_e_c_s.html#acfba559f2767b610c518deb69488de55">GetProviderData&lt;TComponent&gt;</a>(component_id);</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>            entity.enabled_components |= mask;</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>            entity_group.UpdateChildren();</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>            <span class="keywordflow">return</span> component_id;</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>        }</div>
</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span> </div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> TqProv<span class="keywordtype">id</span>er&gt;</div>
<div class="foldopen" id="foldopen00657" data-start="{" data-end="}">
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a706d896bc41b7a819bea0b022451f0f8">  657</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a706d896bc41b7a819bea0b022451f0f8">IsTThisProvider</a>(<span class="keywordtype">bool</span>&amp; out_bool) {</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>            <span class="keywordflow">if</span> (out_bool)</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>            out_bool = std::is_same_v&lt;T, TqProvider&gt;;</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>        }</div>
</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span> </div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="foldopen" id="foldopen00664" data-start="{" data-end="}">
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#ac238e1ce34a42c954a767b167e4ad883">  664</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#ac238e1ce34a42c954a767b167e4ad883">IsTAProvider</a>() {</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>            <span class="keywordtype">bool</span> out_bool = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>            (<a class="code hl_function" href="structdz_1_1_e_c_s.html#a706d896bc41b7a819bea0b022451f0f8">IsTThisProvider&lt;T, TProviders&gt;</a>(out_bool), ...);</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>            <span class="keywordflow">return</span> out_bool;</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>        }</div>
</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span> </div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="foldopen" id="foldopen00671" data-start="{" data-end="}">
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a9cf830b130cbf5dc68b5a16a432ab180">  671</a></span>        <a class="code hl_enumvalue" href="namespacedz.html#a095afbb2455f55f3b5d5c6c1190e92dbab9ece18c950afbfa6b0fdbfa4ff731d3">T</a>* <a class="code hl_function" href="structdz_1_1_e_c_s.html#a9cf830b130cbf5dc68b5a16a432ab180">GetProviderValByID</a>(<span class="keywordtype">int</span> provider_val_id) {</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="structdz_1_1_e_c_s.html#ac238e1ce34a42c954a767b167e4ad883">IsTAProvider&lt;T&gt;</a>())</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;T is not a Provider&quot;</span>);</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>            </div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>        }</div>
</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span> </div>
<div class="foldopen" id="foldopen00677" data-start="{" data-end="}">
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#aec3d4484048e914c53eb3026fa8c4f87">  677</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#aec3d4484048e914c53eb3026fa8c4f87">SetProviderCount</a>(<span class="keyword">const</span> std::string&amp; <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aec110b8efc5cbaa9c05f48b2863eb693">buffer_name</a>, <span class="keywordtype">int</span> count) {</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>            <span class="keyword">auto</span> <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a203bacf57f40e1ef54e08893db99d4fa">buffer_size</a> = <a class="code hl_function" href="namespacedz.html#a5f84b57a057a48a60cf6c134620e50fb">buffer_group_get_buffer_element_count</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>, <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aec110b8efc5cbaa9c05f48b2863eb693">buffer_name</a>);</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>            <span class="keywordflow">if</span> (count &gt; <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a203bacf57f40e1ef54e08893db99d4fa">buffer_size</a>) {</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>                <a class="code hl_function" href="namespacedz.html#a227508c7e5d55ad3ebe02c0e547c2869">buffer_group_set_buffer_element_count</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>, <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aec110b8efc5cbaa9c05f48b2863eb693">buffer_name</a>, count);</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>            }</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>        }</div>
</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span> </div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="foldopen" id="foldopen00685" data-start="{" data-end="}">
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#ab2e8b55f8715f8418da2c135db648c76">  685</a></span>        <a class="code hl_enumvalue" href="namespacedz.html#a095afbb2455f55f3b5d5c6c1190e92dbab9ece18c950afbfa6b0fdbfa4ff731d3">T</a>* <a class="code hl_function" href="structdz_1_1_e_c_s.html#ab2e8b55f8715f8418da2c135db648c76">GetProviderData</a>(<span class="keyword">const</span> std::string&amp; <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aec110b8efc5cbaa9c05f48b2863eb693">buffer_name</a>) {</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>            <span class="keyword">auto</span> buffer_ptr = <a class="code hl_function" href="namespacedz.html#ac22b64de93232168c6f6dd270335fb85">buffer_group_get_buffer_data_ptr</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>, <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aec110b8efc5cbaa9c05f48b2863eb693">buffer_name</a>);</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>            <span class="keywordflow">return</span> (<a class="code hl_enumvalue" href="namespacedz.html#a095afbb2455f55f3b5d5c6c1190e92dbab9ece18c950afbfa6b0fdbfa4ff731d3">T</a>*)buffer_ptr.get();</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>        }</div>
</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span> </div>
<div class="foldopen" id="foldopen00690" data-start="{" data-end="}">
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a35458b86709b9d0e992f31d1de65ae1a">  690</a></span>        BufferGroup* <a class="code hl_function" href="structdz_1_1_e_c_s.html#a35458b86709b9d0e992f31d1de65ae1a">CreateBufferGroup</a>() {</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>            <span class="keyword">auto</span> buffer_group_ptr = <a class="code hl_function" href="namespacedz.html#a62e7fcc0dadcee5242e49cf95feb8ed9">buffer_group_create</a>(<span class="stringliteral">&quot;ECS:Group&quot;</span>);</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [provider_id, provider_group] : <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aea0871faeaa60fbc78c0b587764179a2">id_provider_groups</a>) {</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>                <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a769b0bcac17b3ba0893ed544bfbb2bd2">restricted_keys</a>.push_back(provider_group.buffer_name);</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>                <span class="keywordflow">if</span> (provider_group.is_component)</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>                    <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a769b0bcac17b3ba0893ed544bfbb2bd2">restricted_keys</a>.push_back(provider_group.sparse_name);</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>            }</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>            <a class="code hl_function" href="namespacedz.html#ac2125da7979afb505e8a881de4cd0cbb">buffer_group_restrict_to_keys</a>(buffer_group_ptr, <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a769b0bcac17b3ba0893ed544bfbb2bd2">restricted_keys</a>);</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>            <span class="keywordflow">return</span> buffer_group_ptr;</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>        }</div>
</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span> </div>
<div class="foldopen" id="foldopen00701" data-start="{" data-end="}">
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a0938859b80214b3590a7a9c0baa967b4">  701</a></span>        Shader* <a class="code hl_function" href="structdz_1_1_e_c_s.html#a0938859b80214b3590a7a9c0baa967b4">GenerateMainShader</a>() {</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>            <span class="keyword">auto</span> shader_ptr = <a class="code hl_function" href="namespacedz.html#ac38681906ad270f4142a516200998660">shader_create</a>();</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span> </div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>            <a class="code hl_function" href="namespacedz.html#a6c523456dc2fd42c056eb3e2bc51c901">shader_set_define</a>(shader_ptr, <span class="stringliteral">&quot;ECS_MAX_COMPONENTS&quot;</span>, std::to_string(<a class="code hl_define" href="_entity_8hpp.html#a65434fc37a4b1d895e5a1eb9119018b9">ECS_MAX_COMPONENTS</a>));</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span> </div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>            <a class="code hl_function" href="namespacedz.html#a68b86ae9275bdc1363cee6b6681c2b3c">shader_add_buffer_group</a>(shader_ptr, <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>);</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span> </div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>            <a class="code hl_function" href="namespacedz.html#a5db46b31194da8a5055120f653ab8239">shader_add_module</a>(shader_ptr, <a class="code hl_enumvalue" href="namespacedz.html#aa4255557b5a9250383f8e3746e9ed824ab22b929ba52471a02d18bb3a4e4472e6">ShaderModuleType::Vertex</a>, <a class="code hl_function" href="structdz_1_1_e_c_s.html#a0757ac18c665ddaaae52f4317714da20">GenerateMainVertexShaderCode</a>());</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>            <a class="code hl_function" href="namespacedz.html#a5db46b31194da8a5055120f653ab8239">shader_add_module</a>(shader_ptr, <a class="code hl_enumvalue" href="namespacedz.html#aa4255557b5a9250383f8e3746e9ed824a37d01b98065725fe3a1d30acf3a0064a">ShaderModuleType::Fragment</a>, <a class="code hl_function" href="structdz_1_1_e_c_s.html#a523cc19b9af28340fc52605d6695706e">GenerateMainFragmentShaderCode</a>());</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span> </div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>            <span class="keywordflow">return</span> shader_ptr;</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>        }</div>
</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span> </div>
<div class="foldopen" id="foldopen00714" data-start="{" data-end="}">
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a49b8d9498ea0a74b078d057fc7ddb214">  714</a></span>        Shader* <a class="code hl_function" href="structdz_1_1_e_c_s.html#a49b8d9498ea0a74b078d057fc7ddb214">GenerateModelComputeShader</a>() {</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>            <span class="keyword">auto</span> shader_ptr = <a class="code hl_function" href="namespacedz.html#ac38681906ad270f4142a516200998660">shader_create</a>();</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span> </div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>            <a class="code hl_function" href="namespacedz.html#a6c523456dc2fd42c056eb3e2bc51c901">shader_set_define</a>(shader_ptr, <span class="stringliteral">&quot;ECS_MAX_COMPONENTS&quot;</span>, std::to_string(<a class="code hl_define" href="_entity_8hpp.html#a65434fc37a4b1d895e5a1eb9119018b9">ECS_MAX_COMPONENTS</a>));</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span> </div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>            <a class="code hl_function" href="namespacedz.html#a68b86ae9275bdc1363cee6b6681c2b3c">shader_add_buffer_group</a>(shader_ptr, <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>);</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span> </div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>            <a class="code hl_function" href="namespacedz.html#a5db46b31194da8a5055120f653ab8239">shader_add_module</a>(shader_ptr, <a class="code hl_enumvalue" href="namespacedz.html#aa4255557b5a9250383f8e3746e9ed824aa623a8d0366bf079411aa30be45b2d10">ShaderModuleType::Compute</a>, <a class="code hl_function" href="structdz_1_1_e_c_s.html#ae39f4c859a32e67413acaf2ea11a90b1">GenerateModelComputeShaderCode</a>());</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span> </div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>            <a class="code hl_function" href="namespacedz.html#ab2a6469f6800da2f00bc0c650134a66d">window_register_compute_dispatch</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a10ddbad34892ad410fa4b1029619787f">window_ptr</a>, 0.0f, shader_ptr, [&amp;]() {</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="namespacedz.html#a5f84b57a057a48a60cf6c134620e50fb">buffer_group_get_buffer_element_count</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>, <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aec110b8efc5cbaa9c05f48b2863eb693">buffer_name</a>);</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>            });</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span> </div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>            <span class="keywordflow">return</span> shader_ptr;</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>        }</div>
</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span> </div>
<div class="foldopen" id="foldopen00730" data-start="{" data-end="}">
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a0bcbd62d3d9da50225552b585563b896">  730</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a0bcbd62d3d9da50225552b585563b896">EnableDrawInWindow</a>(WINDOW* <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a10ddbad34892ad410fa4b1029619787f">window_ptr</a>) {</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>            <a class="code hl_function" href="namespacedz.html#aabedb0013a31cb57f124104029f38019">window_add_drawn_buffer_group</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a10ddbad34892ad410fa4b1029619787f">window_ptr</a>, &amp;<a class="code hl_variable" href="structdz_1_1_e_c_s.html#af9aec33af76cd4121dbe0a74382a2e45">draw_mg</a>, <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">buffer_group</a>);</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span> </div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>            <a class="code hl_function" href="namespacedz.html#a9a40eeb2c76b8c3a1fa71c4afd9b81f1">window_register_free_callback</a>(<a class="code hl_variable" href="structdz_1_1_e_c_s.html#a10ddbad34892ad410fa4b1029619787f">window_ptr</a>, 100.f, [&amp;]() <span class="keyword">mutable</span> {</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>                <span class="comment">// for (auto&amp; [scene_id, scene_group] : id_scene_groups)</span></div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>                <span class="comment">//     scene_group.indexed_reflectable_groups.clear();</span></div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>                <span class="comment">// id_scene_groups.clear();</span></div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>            });</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>        }</div>
</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span> </div>
<div class="foldopen" id="foldopen00740" data-start="{" data-end="}">
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#ac4e79ddeef42041a785d740bba7976f2">  740</a></span>        std::string <a class="code hl_function" href="structdz_1_1_e_c_s.html#ac4e79ddeef42041a785d740bba7976f2">GenerateShaderHeader</a>(<a class="code hl_enumeration" href="namespacedz.html#aa4255557b5a9250383f8e3746e9ed824">ShaderModuleType</a> moduleType) {          </div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>            std::string shader_header;</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span> </div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>            <span class="keyword">auto</span> binding_index = 0;</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span> </div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>            <span class="comment">// Setup Structs</span></div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [priority, provider_ids] : <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2af4eafcbe67f8d6b06a1f0fbb31ccb8">prioritized_provider_ids</a>) {</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; provider_id : provider_ids) {</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>                    <span class="keyword">auto</span>&amp; provider_group = <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aea0871faeaa60fbc78c0b587764179a2">id_provider_groups</a>[provider_id];</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>                    shader_header += provider_group.glsl_struct;</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>                }</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>            }</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span> </div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>            <span class="comment">// Setup Buffers</span></div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [priority, provider_ids] : <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2af4eafcbe67f8d6b06a1f0fbb31ccb8">prioritized_provider_ids</a>) {</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; provider_id : provider_ids) {</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>                    <span class="keyword">auto</span>&amp; provider_group = <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aea0871faeaa60fbc78c0b587764179a2">id_provider_groups</a>[provider_id];</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>                    shader_header += R<span class="stringliteral">&quot;(</span></div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span><span class="stringliteral">layout(std430, binding = )&quot; + std::to_string(binding_index++) + </span><span class="stringliteral">&quot;) buffer &quot;</span> + provider_group.struct_name + R<span class="stringliteral">&quot;(Buffer {</span></div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span><span class="stringliteral">    )&quot; + provider_group.struct_name + R</span><span class="stringliteral">&quot;( data[];</span></div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span><span class="stringliteral">} )&quot; + provider_group.struct_name + R</span><span class="stringliteral">&quot;(s;</span></div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span><span class="stringliteral">)&quot;;</span></div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span><span class="stringliteral">                    </span><span class="keywordflow">if</span> (provider_group.is_component) {</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>                        shader_header += R<span class="stringliteral">&quot;(</span></div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span><span class="stringliteral">layout(std430, binding = )&quot; + std::to_string(binding_index++) + </span><span class="stringliteral">&quot;) buffer &quot;</span> + provider_group.struct_name + R<span class="stringliteral">&quot;(SparseBuffer {</span></div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span><span class="stringliteral">    int data[];</span></div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span><span class="stringliteral">} Sparse)&quot; + provider_group.struct_name + R</span><span class="stringliteral">&quot;(s;</span></div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span><span class="stringliteral">)&quot;;</span></div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span><span class="stringliteral">                    }</span></div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span><span class="stringliteral">                    shader_header += provider_group.struct_name + </span><span class="stringliteral">&quot; Get&quot;</span> + provider_group.struct_name + R<span class="stringliteral">&quot;(Data(int t_provider_index) {</span></div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span><span class="stringliteral">    return )&quot; + provider_group.struct_name + R</span><span class="stringliteral">&quot;(s.data[t_provider_index];</span></div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span><span class="stringliteral">}</span></div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span><span class="stringliteral">)&quot;;</span></div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span><span class="stringliteral">                    shader_header += provider_group.glsl_methods[moduleType];</span></div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span><span class="stringliteral">                }</span></div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span><span class="stringliteral">            }</span></div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span><span class="stringliteral">            </span><span class="comment">// Component Methods</span></div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>            shader_header += R<span class="stringliteral">&quot;(</span></div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span><span class="stringliteral">bool HasComponentWithType(in Entity entity, int entity_index, int type, out int t_component_index) {</span></div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span><span class="stringliteral">    int mask = 1 &lt;&lt; (type - 1);</span></div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span><span class="stringliteral">    bool has_component = (entity.enabled_components &amp; mask) != 0;</span></div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span><span class="stringliteral">    switch (type) {</span></div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span><span class="stringliteral">)&quot;;</span></div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span><span class="stringliteral">            </span><span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [priority, provider_ids] : <a class="code hl_variable" href="structdz_1_1_e_c_s.html#a2af4eafcbe67f8d6b06a1f0fbb31ccb8">prioritized_provider_ids</a>) {</div>
</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; provider_id : provider_ids) {</div>
<div class="foldopen" id="foldopen00788" data-start="{" data-end="}">
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a32b24f37aceee0e5d146b3280126c192">  788</a></span>                    <span class="keyword">auto</span>&amp; provider_group = <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aea0871faeaa60fbc78c0b587764179a2">id_provider_groups</a>[provider_id];</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>                    <span class="keywordflow">if</span> (provider_group.is_component) {</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>                        shader_header += R<span class="stringliteral">&quot;(</span></div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span><span class="stringliteral">    case )&quot; + std::to_string(provider_group.component_id) + R</span><span class="stringliteral">&quot;(:</span></div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span><span class="stringliteral">        t_component_index = Sparse)&quot; + provider_group.struct_name + R</span><span class="stringliteral">&quot;(s.data[entity_index];</span></div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span><span class="stringliteral">        break;</span></div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span><span class="stringliteral">)&quot;;</span></div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span><span class="stringliteral">                    }</span></div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span><span class="stringliteral">                }</span></div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span><span class="stringliteral">            }</span></div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span><span class="stringliteral">            shader_header += R</span><span class="stringliteral">&quot;(</span></div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span><span class="stringliteral">    }</span></div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span><span class="stringliteral">    return true;</span></div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span><span class="stringliteral">}</span></div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span><span class="stringliteral">)&quot;;</span></div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span><span class="stringliteral">            </span><span class="comment">// TComponent</span></div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span><span class="comment">//             shader_header += R&quot;(</span></div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span><span class="comment">// layout(std430, binding = )&quot; + std::to_string(binding_index++) + R&quot;() buffer ComponentBuffer {</span></div>
</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span><span class="comment">//     Component data[];</span></div>
<div class="foldopen" id="foldopen00809" data-start="{" data-end="}">
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a0757ac18c665ddaaae52f4317714da20">  809</a></span><span class="comment">// } Components;</span></div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span><span class="comment">// )&quot;;</span></div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>            <span class="keywordflow">return</span> shader_header;</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>        }</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span> </div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>        std::string <a class="code hl_function" href="structdz_1_1_e_c_s.html#a32b24f37aceee0e5d146b3280126c192">GenerateShaderMain</a>(<a class="code hl_enumeration" href="namespacedz.html#aa4255557b5a9250383f8e3746e9ed824">ShaderModuleType</a> moduleType) {</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>            std::string shader_main; </div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span> </div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>            <span class="comment">// Main Get Components</span></div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [<span class="keywordtype">id</span>, entry] : <a class="code hl_variable" href="structdz_1_1_e_c_s.html#ac2955d3c4318a33e0eaaa506849a7d9c">registered_component_map</a>) {</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>                <span class="keyword">auto</span> struct_name_lower = to_lower(entry.struct_name);</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>                shader_main += <span class="stringliteral">&quot;    &quot;</span> + entry.struct_name + <span class="stringliteral">&quot; &quot;</span> + struct_name_lower + <span class="stringliteral">&quot;;\n&quot;</span>;</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>                shader_main += R<span class="stringliteral">&quot;(    if (HasComponentWithType(entity, entity_index, )&quot; + std::to_string(entry.type_id) + R</span><span class="stringliteral">&quot;(, t_component_index))</span></div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span><span class="stringliteral">        )&quot; + struct_name_lower + </span><span class="stringliteral">&quot; = Get&quot;</span> + entry.struct_name + <span class="stringliteral">&quot;Data(t_component_index);\n&quot;</span>;</div>
</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>            }</div>
<div class="foldopen" id="foldopen00824" data-start="{" data-end="}">
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a523cc19b9af28340fc52605d6695706e">  824</a></span> </div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>            <span class="comment">// Priority Mains</span></div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>            <span class="keyword">auto</span>&amp; module_glsl_mains = <a class="code hl_variable" href="structdz_1_1_e_c_s.html#aa6f0ab28e7efafccc15fc97b40bb8ac3">priority_glsl_mains</a>[moduleType];</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [priority, string_vec] : module_glsl_mains) {</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <span class="keywordtype">string</span> : string_vec) {</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>                    shader_main += string;</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>                }</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>            }</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span> </div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>            <span class="keywordflow">return</span> shader_main;</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>        }</div>
</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span> </div>
<div class="foldopen" id="foldopen00836" data-start="{" data-end="}">
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#ae39f4c859a32e67413acaf2ea11a90b1">  836</a></span>        std::string <a class="code hl_function" href="structdz_1_1_e_c_s.html#a0757ac18c665ddaaae52f4317714da20">GenerateMainVertexShaderCode</a>() {</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>            std::string shader_string = R<span class="stringliteral">&quot;(</span></div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span><span class="stringliteral">#version 450</span></div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span><span class="stringliteral">layout(location = 0) out int outID;</span></div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span><span class="stringliteral">layout(location = 1) out vec4 outColor;</span></div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span><span class="stringliteral">layout(location = 2) out vec4 outPosition;</span></div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span><span class="stringliteral">layout(location = 3) out vec3 outNormal;</span></div>
</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span><span class="stringliteral">layout(location = 4) out vec3 outViewPosition;</span></div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span><span class="stringliteral">layout(push_constant) uniform PushConstants {</span></div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span><span class="stringliteral">    int camera_index;</span></div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span><span class="stringliteral">} pc;</span></div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span><span class="stringliteral">)&quot;;</span></div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span><span class="stringliteral">            shader_string += <a class="code hl_function" href="structdz_1_1_e_c_s.html#ac4e79ddeef42041a785d740bba7976f2">GenerateShaderHeader</a>(<a class="code hl_enumvalue" href="namespacedz.html#aa4255557b5a9250383f8e3746e9ed824ab22b929ba52471a02d18bb3a4e4472e6">ShaderModuleType::Vertex</a>);</span></div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span><span class="stringliteral">            </span><span class="comment">// Main</span></div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>            shader_string += R<span class="stringliteral">&quot;(</span></div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span><span class="stringliteral">void main() {</span></div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span><span class="stringliteral">    int entity_index = outID = gl_InstanceIndex;</span></div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span><span class="stringliteral">    Entity entity = GetEntityData(entity_index);</span></div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span><span class="stringliteral">    vec4 final_color;</span></div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span><span class="stringliteral">    int t_component_index = -1;</span></div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span><span class="stringliteral">)&quot;;</span></div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span><span class="stringliteral">            shader_string += <a class="code hl_function" href="structdz_1_1_e_c_s.html#a32b24f37aceee0e5d146b3280126c192">GenerateShaderMain</a>(<a class="code hl_enumvalue" href="namespacedz.html#aa4255557b5a9250383f8e3746e9ed824ab22b929ba52471a02d18bb3a4e4472e6">ShaderModuleType::Vertex</a>);</span></div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span><span class="stringliteral">            </span><span class="comment">// Main Output</span></div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>            shader_string += R<span class="stringliteral">&quot;(</span></div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span><span class="stringliteral">    vec3 normal_vs = normalize(mat3(transpose(inverse(entity.model))) * shape_normal);</span></div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span><span class="stringliteral">    gl_Position = clip_position;</span></div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span><span class="stringliteral">    outColor = final_color;</span></div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span><span class="stringliteral">    outPosition = entity.model * vertex_position;</span></div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span><span class="stringliteral">    outViewPosition = view_position.xyz;</span></div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span><span class="stringliteral">    outNormal = normal_vs;</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span><span class="stringliteral">}</span></div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span><span class="stringliteral">)&quot;;</span></div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span><span class="stringliteral">            </span><span class="keywordflow">return</span> shader_string;</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>        }</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span> </div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>        std::string <a class="code hl_function" href="structdz_1_1_e_c_s.html#a523cc19b9af28340fc52605d6695706e">GenerateMainFragmentShaderCode</a>() {</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>            std::string shader_string = R<span class="stringliteral">&quot;(</span></div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span><span class="stringliteral">#version 450</span></div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span><span class="stringliteral">layout(location = 0) flat in int inID;</span></div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span><span class="stringliteral">layout(location = 1) in vec4 inColor;</span></div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span><span class="stringliteral">layout(location = 2) in vec4 inPosition;</span></div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span><span class="stringliteral">layout(location = 3) in vec3 inNormal;</span></div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span><span class="stringliteral">layout(location = 4) in vec3 inViewPosition;</span></div>
<div class="foldopen" id="foldopen00884" data-start="{" data-end="}">
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a94cfbcad08e25debeff99822331d5860">  884</a></span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span><span class="stringliteral">layout(location = 0) out vec4 FragColor;</span></div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span><span class="stringliteral">layout(push_constant) uniform PushConstants {</span></div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span><span class="stringliteral">    int camera_index;</span></div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span><span class="stringliteral">} pc;</span></div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span><span class="stringliteral">)&quot;;</span></div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span><span class="stringliteral">            shader_string += <a class="code hl_function" href="structdz_1_1_e_c_s.html#ac4e79ddeef42041a785d740bba7976f2">GenerateShaderHeader</a>(<a class="code hl_enumvalue" href="namespacedz.html#aa4255557b5a9250383f8e3746e9ed824a37d01b98065725fe3a1d30acf3a0064a">ShaderModuleType::Fragment</a>);</span></div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span><span class="stringliteral">            shader_string += R</span><span class="stringliteral">&quot;(</span></div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span><span class="stringliteral">void main() {</span></div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span><span class="stringliteral">    int entity_index = inID;</span></div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span><span class="stringliteral">    Entity entity = GetEntityData(entity_index);</span></div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span><span class="stringliteral">    int t_component_index = -1;</span></div>
</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span><span class="stringliteral">    vec4 current_color = inColor;</span></div>
<div class="foldopen" id="foldopen00899" data-start="{" data-end="}">
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a294747c9dcec6be7f603230c3c4fe46e">  899</a></span><span class="stringliteral">)&quot;;</span></div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span><span class="stringliteral">    </span></div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span><span class="stringliteral">            shader_string += <a class="code hl_function" href="structdz_1_1_e_c_s.html#a32b24f37aceee0e5d146b3280126c192">GenerateShaderMain</a>(<a class="code hl_enumvalue" href="namespacedz.html#aa4255557b5a9250383f8e3746e9ed824a37d01b98065725fe3a1d30acf3a0064a">ShaderModuleType::Fragment</a>);</span></div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span><span class="stringliteral"></span> </div>
</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span><span class="stringliteral">            shader_string += R</span><span class="stringliteral">&quot;(</span></div>
<div class="foldopen" id="foldopen00904" data-start="{" data-end="}">
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno"><a class="line" href="structdz_1_1_e_c_s.html#a58b101ca3ae21affc0ad709780579cfe">  904</a></span><span class="stringliteral">    FragColor = current_color;</span></div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span><span class="stringliteral">}</span></div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span><span class="stringliteral">)&quot;;</span></div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span><span class="stringliteral">            </span><span class="keywordflow">return</span> shader_string;</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>        }</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span> </div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>        std::string <a class="code hl_function" href="structdz_1_1_e_c_s.html#ae39f4c859a32e67413acaf2ea11a90b1">GenerateModelComputeShaderCode</a>() {</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>            std::string shader_string = R<span class="stringliteral">&quot;(</span></div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span><span class="stringliteral">#version 450</span></div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span><span class="stringliteral">layout(local_size_x = 1) in;</span></div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span><span class="stringliteral">)&quot;;</span></div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span><span class="stringliteral">            shader_string += <a class="code hl_function" href="structdz_1_1_e_c_s.html#ac4e79ddeef42041a785d740bba7976f2">GenerateShaderHeader</a>(<a class="code hl_enumvalue" href="namespacedz.html#aa4255557b5a9250383f8e3746e9ed824aa623a8d0366bf079411aa30be45b2d10">ShaderModuleType::Compute</a>);</span></div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span><span class="stringliteral">            shader_string += R</span><span class="stringliteral">&quot;(</span></div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span><span class="stringliteral">void GetEntityModel(int entity_index, out mat4 out_model, out int parent_index) {</span></div>
</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span><span class="stringliteral">    Entity entity = GetEntityData(entity_index);</span></div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span><span class="stringliteral">    mat4 model = mat4(1.0);</span></div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span><span class="stringliteral">    model[3] = vec4(entity.position.xyz, 1.0);</span></div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span><span class="stringliteral">    mat4 scale = mat4(1.0);</span></div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span><span class="stringliteral">    scale[0].xyz *= entity.scale.x;</span></div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span><span class="stringliteral">    scale[1].xyz *= entity.scale.y;</span></div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span><span class="stringliteral">    scale[2].xyz *= entity.scale.z;</span></div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span><span class="stringliteral">    mat4 rotX = mat4(1.0);</span></div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span><span class="stringliteral">    rotX[1][1] =  cos(entity.rotation.x);</span></div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span><span class="stringliteral">    rotX[1][2] = -sin(entity.rotation.x);</span></div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span><span class="stringliteral">    rotX[2][1] =  sin(entity.rotation.x);</span></div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span><span class="stringliteral">    rotX[2][2] =  cos(entity.rotation.x);</span></div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span><span class="stringliteral">    mat4 rotY = mat4(1.0);</span></div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span><span class="stringliteral">    rotY[0][0] =  cos(entity.rotation.y);</span></div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span><span class="stringliteral">    rotY[0][2] =  sin(entity.rotation.y);</span></div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span><span class="stringliteral">    rotY[2][0] = -sin(entity.rotation.y);</span></div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span><span class="stringliteral">    rotY[2][2] =  cos(entity.rotation.y);</span></div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span><span class="stringliteral">    mat4 rotZ = mat4(1.0);</span></div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span><span class="stringliteral">    rotZ[0][0] =  cos(entity.rotation.z);</span></div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span><span class="stringliteral">    rotZ[0][1] = -sin(entity.rotation.z);</span></div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span><span class="stringliteral">    rotZ[1][0] =  sin(entity.rotation.z);</span></div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span><span class="stringliteral">    rotZ[1][1] =  cos(entity.rotation.z);</span></div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span><span class="stringliteral">    mat4 rot = rotZ * rotY * rotX;</span></div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span><span class="stringliteral">    out_model = model * rot * scale;</span></div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span><span class="stringliteral">    parent_index = entity.parent_index;</span></div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span><span class="stringliteral">}</span></div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span><span class="stringliteral">void main() {</span></div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span><span class="stringliteral">    int entity_index = int(gl_GlobalInvocationID.x);</span></div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span><span class="stringliteral">    if (entity_index &gt;= Entitys.data.length()) return;</span></div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span><span class="stringliteral">    </span></div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span><span class="stringliteral">    int current_index = entity_index;</span></div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span><span class="stringliteral">    mat4 final_model = mat4(1.0);</span></div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span><span class="stringliteral">    while (current_index != -1) {</span></div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span><span class="stringliteral">        mat4 current_model = mat4(1.0);</span></div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span><span class="stringliteral">        GetEntityModel(current_index, current_model, current_index);</span></div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span><span class="stringliteral">        final_model = current_model * final_model;</span></div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span><span class="stringliteral">    }</span></div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span><span class="stringliteral">    Entitys.data[entity_index].model = final_model;</span></div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span><span class="stringliteral">}</span></div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span><span class="stringliteral">)&quot;;</span></div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span><span class="stringliteral">            </span><span class="keywordflow">return</span> shader_string;</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>        }</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span> </div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>        <span class="comment">// std::vector&lt;size_t&gt; GetSceneIDs() {</span></div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>        <span class="comment">//     std::vector&lt;size_t&gt; ids(id_scene_groups.size(), 0);</span></div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>        <span class="comment">//     size_t i = 0;</span></div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>        <span class="comment">//     for (auto&amp; [id, entry] : id_scene_groups)</span></div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>        <span class="comment">//         ids[i++] = id;</span></div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>        <span class="comment">//     return ids;</span></div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>        <span class="comment">// }</span></div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span> </div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>        <span class="comment">// std::map&lt;size_t, SceneReflectableGroup&gt;::iterator GetScenesBegin() {</span></div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>        <span class="comment">//     return id_scene_groups.begin();</span></div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>        <span class="comment">// }</span></div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span> </div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>        <span class="comment">// std::map&lt;size_t, SceneReflectableGroup&gt;::iterator GetScenesEnd() {</span></div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>        <span class="comment">//     return id_scene_groups.end();</span></div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>        <span class="comment">// }</span></div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span> </div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>        <span class="comment">// std::map&lt;int, CameraReflectableGroup&gt;::iterator GetCamerasBegin(size_t scene_id) {</span></div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>        <span class="comment">//     auto scene_group_it = id_scene_groups.find(scene_id);</span></div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>        <span class="comment">//     if (scene_group_it == id_scene_groups.end())</span></div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>        <span class="comment">//         throw std::runtime_error(&quot;scene group not found with scene_id&quot;);</span></div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>        <span class="comment">//     return scene_group_it-&gt;second.indexed_camera_groups.begin();</span></div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>        <span class="comment">// }</span></div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span> </div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>        <span class="comment">// std::map&lt;int, CameraReflectableGroup&gt;::iterator GetCamerasEnd(size_t scene_id) {</span></div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>        <span class="comment">//     auto scene_group_it = id_scene_groups.find(scene_id);</span></div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>        <span class="comment">//     if (scene_group_it == id_scene_groups.end())</span></div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>        <span class="comment">//         throw std::runtime_error(&quot;scene group not found with scene_id&quot;);</span></div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>        <span class="comment">//     return scene_group_it-&gt;second.indexed_camera_groups.end();</span></div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>        <span class="comment">// }</span></div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span> </div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>        <span class="comment">// Image* GetFramebufferImage(size_t camera_index) {</span></div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>        <span class="comment">//     for (auto&amp; [scene_id, scene_group] : id_scene_groups) {</span></div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>        <span class="comment">//         auto camera_it = scene_group.indexed_camera_groups.find(camera_index);</span></div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>        <span class="comment">//         if (camera_it == scene_group.indexed_camera_groups.end())</span></div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>        <span class="comment">//             continue;</span></div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>        <span class="comment">//         return camera_it-&gt;second.fb_color_image;</span></div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>        <span class="comment">//     }</span></div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>        <span class="comment">//     return nullptr;</span></div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>        <span class="comment">// }</span></div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span> </div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a94cfbcad08e25debeff99822331d5860">ResizeFramebuffer</a>(<span class="keywordtype">size_t</span> camera_id, uint32_t width, uint32_t height) {</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>            <span class="keyword">auto</span>&amp; camera_group = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a7d58a431e8a01761415e866ba43a5e33">GetGroup&lt;CameraProviderT, typename CameraProviderT::ReflectableGroup&gt;</a>(camera_id);</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>            <span class="keyword">auto</span> fb_resized = <a class="code hl_function" href="namespacedz.html#a5fc254d9f0641b8eff301e9d1f01fe7c">framebuffer_resize</a>(camera_group.framebuffer, width, height);</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>            <span class="keywordflow">if</span> (!fb_resized)</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacedz.html#a8bd74a18f5ee34a2d26b8f8194554251">framebuffer_changed</a>(camera_group.framebuffer)) {</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>                camera_group.fb_color_image = <a class="code hl_function" href="namespacedz.html#a0398532de7cc23350a3e8402f94a57f7">framebuffer_get_image</a>(camera_group.framebuffer, <a class="code hl_enumvalue" href="namespacedz.html#aa3454b3e47e78e3984a9867555270d3facb5feb1b7314637725a2e73bdc9f7295">AttachmentType::Color</a>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>                camera_group.fb_depth_image = <a class="code hl_function" href="namespacedz.html#a0398532de7cc23350a3e8402f94a57f7">framebuffer_get_image</a>(camera_group.framebuffer, <a class="code hl_enumvalue" href="namespacedz.html#aa3454b3e47e78e3984a9867555270d3fa675056ad1441b6375b2c5abd48c27ef1">AttachmentType::Depth</a>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>                <a class="code hl_function" href="structdz_1_1_e_c_s.html#a58b101ca3ae21affc0ad709780579cfe">SetCameraAspect</a>(camera_id, width, height);</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>                <span class="keyword">auto</span> frame_ds_pair = <a class="code hl_function" href="namespacedz.html#ab779628560ed7e3e07ac6ad56d5d919a">image_create_descriptor_set</a>(camera_group.fb_color_image);</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>                camera_group.frame_image_ds = frame_ds_pair.second;</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>            }</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;;</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>        }</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span> </div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a294747c9dcec6be7f603230c3c4fe46e">FramebufferChanged</a>(<span class="keywordtype">size_t</span> camera_id) {</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>            <span class="keyword">auto</span>&amp; camera_group = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a7d58a431e8a01761415e866ba43a5e33">GetGroup&lt;CameraProviderT, typename CameraProviderT::ReflectableGroup&gt;</a>(camera_id);</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="namespacedz.html#a8bd74a18f5ee34a2d26b8f8194554251">framebuffer_changed</a>(camera_group.framebuffer);</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>        }</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span> </div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="structdz_1_1_e_c_s.html#a58b101ca3ae21affc0ad709780579cfe">SetCameraAspect</a>(<span class="keywordtype">size_t</span> camera_id, <span class="keywordtype">float</span> width, <span class="keywordtype">float</span> height) {</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>            <span class="keywordflow">if</span> (!width || !height)</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>            <span class="keyword">auto</span>&amp; camera = <a class="code hl_function" href="structdz_1_1_e_c_s.html#a316bca99781292a9154bccee4cd1060f">GetCamera</a>(camera_id);</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>            camera.orthoWidth = width;</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>            camera.orthoHeight = height;</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>            <span class="keywordflow">switch</span> (<span class="keyword">typename</span> CameraProviderT::ProjectionType(camera.type)) {</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>            <span class="keywordflow">case</span> CameraProviderT::Perspective:</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>                camera.aspect = camera.orthoWidth / camera.orthoHeight;</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>            <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>            }</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>            <a class="code hl_function" href="namespacedz.html#a1082b01fce46f98a7cd523e39e36fd11">CameraInit</a>(camera);</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>        }</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span> </div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>    };</div>
</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>}</div>
<div class="ttc" id="a_buffer_group_8hpp_html"><div class="ttname"><a href="_buffer_group_8hpp.html">BufferGroup.hpp</a></div><div class="ttdoc">Abstractions for managing GPU buffer groups with named buffers and images.</div></div>
<div class="ttc" id="a_camera_8hpp_html"><div class="ttname"><a href="_camera_8hpp.html">Camera.hpp</a></div></div>
<div class="ttc" id="a_component_8hpp_html"><div class="ttname"><a href="_component_8hpp.html">Component.hpp</a></div></div>
<div class="ttc" id="a_draw_list_manager_8hpp_html"><div class="ttname"><a href="_draw_list_manager_8hpp.html">DrawListManager.hpp</a></div><div class="ttdoc">Defines an interface and template manager for producing shader draw lists from buffer groups.</div></div>
<div class="ttc" id="a_entity_8hpp_html"><div class="ttname"><a href="_entity_8hpp.html">Entity.hpp</a></div></div>
<div class="ttc" id="a_entity_8hpp_html_a65434fc37a4b1d895e5a1eb9119018b9"><div class="ttname"><a href="_entity_8hpp.html#a65434fc37a4b1d895e5a1eb9119018b9">ECS_MAX_COMPONENTS</a></div><div class="ttdeci">#define ECS_MAX_COMPONENTS</div><div class="ttdef"><b>Definition</b> Entity.hpp:7</div></div>
<div class="ttc" id="a_framebuffer_8hpp_html"><div class="ttname"><a href="_framebuffer_8hpp.html">Framebuffer.hpp</a></div></div>
<div class="ttc" id="a_global_u_i_d_8hpp_html"><div class="ttname"><a href="_global_u_i_d_8hpp.html">GlobalUID.hpp</a></div><div class="ttdoc">Provides a globally thread-safe monotonically incrementing UID generator.</div></div>
<div class="ttc" id="a_light_8hpp_html"><div class="ttname"><a href="_light_8hpp.html">Light.hpp</a></div></div>
<div class="ttc" id="a_provider_8hpp_html"><div class="ttname"><a href="_provider_8hpp.html">Provider.hpp</a></div></div>
<div class="ttc" id="a_scene_8hpp_html"><div class="ttname"><a href="_scene_8hpp.html">Scene.hpp</a></div></div>
<div class="ttc" id="a_shader_8hpp_html"><div class="ttname"><a href="_shader_8hpp.html">Shader.hpp</a></div><div class="ttdoc">Defines functions to create, configure, and bind shaders with SPIR-V and GLSL inputs.</div></div>
<div class="ttc" id="a_state_8hpp_html"><div class="ttname"><a href="_state_8hpp.html">State.hpp</a></div></div>
<div class="ttc" id="a_state_8hpp_html_afac49944c377dff5dfb5bd6c01d25a47"><div class="ttname"><a href="_state_8hpp.html#afac49944c377dff5dfb5bd6c01d25a47">CID_WINDOW</a></div><div class="ttdeci">#define CID_WINDOW</div><div class="ttdef"><b>Definition</b> State.hpp:7</div></div>
<div class="ttc" id="a_util_8hpp_html"><div class="ttname"><a href="_util_8hpp.html">Util.hpp</a></div></div>
<div class="ttc" id="a_window_8hpp_html"><div class="ttname"><a href="_window_8hpp.html">Window.hpp</a></div><div class="ttdoc">Defines functions to create, configure, and render Windows.</div></div>
<div class="ttc" id="anamespacedz_html"><div class="ttname"><a href="namespacedz.html">dz</a></div><div class="ttdef"><b>Definition</b> DirectZ.hpp:39</div></div>
<div class="ttc" id="anamespacedz_html_a02dc67ed1d77eb4d55a620b2f35aea62"><div class="ttname"><a href="namespacedz.html#a02dc67ed1d77eb4d55a620b2f35aea62">dz::window_get_width_ref</a></div><div class="ttdeci">std::shared_ptr&lt; float &gt; &amp; window_get_width_ref(WINDOW *)</div><div class="ttdoc">Gets a shared pointer reference to window width.</div></div>
<div class="ttc" id="anamespacedz_html_a0398532de7cc23350a3e8402f94a57f7"><div class="ttname"><a href="namespacedz.html#a0398532de7cc23350a3e8402f94a57f7">dz::framebuffer_get_image</a></div><div class="ttdeci">Image * framebuffer_get_image(Framebuffer *, AttachmentType, bool new_image=false)</div><div class="ttdoc">attempts to return an underlying Image based on AttachmentType</div></div>
<div class="ttc" id="anamespacedz_html_a095afbb2455f55f3b5d5c6c1190e92dbab9ece18c950afbfa6b0fdbfa4ff731d3"><div class="ttname"><a href="namespacedz.html#a095afbb2455f55f3b5d5c6c1190e92dbab9ece18c950afbfa6b0fdbfa4ff731d3">dz::D7Type::T</a></div><div class="ttdeci">@ T</div><div class="ttdef"><b>Definition</b> D7Stream.hpp:19</div></div>
<div class="ttc" id="anamespacedz_html_a1082b01fce46f98a7cd523e39e36fd11"><div class="ttname"><a href="namespacedz.html#a1082b01fce46f98a7cd523e39e36fd11">dz::CameraInit</a></div><div class="ttdeci">void CameraInit(Camera &amp;camera, vec&lt; float, 3 &gt; position, vec&lt; float, 3 &gt; center, vec&lt; float, 3 &gt; up, float nearPlane, float farPlane, float width, float height, float fov, Camera::ProjectionType projectionType=Camera::Perspective)</div></div>
<div class="ttc" id="anamespacedz_html_a11ae1a19c0477cb9a8d20aedcc530e7b"><div class="ttname"><a href="namespacedz.html#a11ae1a19c0477cb9a8d20aedcc530e7b">dz::radians</a></div><div class="ttdeci">T radians(T degrees)</div><div class="ttdoc">Converts an angle from degrees to radians.</div><div class="ttdef"><b>Definition</b> math.hpp:1208</div></div>
<div class="ttc" id="anamespacedz_html_a1807d93466f486c74b1f9cad553c4891"><div class="ttname"><a href="namespacedz.html#a1807d93466f486c74b1f9cad553c4891">dz::state_get_ptr</a></div><div class="ttdeci">T * state_get_ptr(int cid, int index=0)</div><div class="ttdoc">casts a restorable at the index given with Constructor ID</div><div class="ttdef"><b>Definition</b> State.hpp:155</div></div>
<div class="ttc" id="anamespacedz_html_a227508c7e5d55ad3ebe02c0e547c2869"><div class="ttname"><a href="namespacedz.html#a227508c7e5d55ad3ebe02c0e547c2869">dz::buffer_group_set_buffer_element_count</a></div><div class="ttdeci">void buffer_group_set_buffer_element_count(BufferGroup *buffer_group, const std::string &amp;buffer_name, uint32_t element_count)</div><div class="ttdoc">Sets the number of elements in a named buffer.</div></div>
<div class="ttc" id="anamespacedz_html_a287396fc86f3e51fbd57e8ccaafdd0cf"><div class="ttname"><a href="namespacedz.html#a287396fc86f3e51fbd57e8ccaafdd0cf">dz::window_get_height_ref</a></div><div class="ttdeci">std::shared_ptr&lt; float &gt; &amp; window_get_height_ref(WINDOW *)</div><div class="ttdoc">Gets a shared pointer reference to window height.</div></div>
<div class="ttc" id="anamespacedz_html_a5db46b31194da8a5055120f653ab8239"><div class="ttname"><a href="namespacedz.html#a5db46b31194da8a5055120f653ab8239">dz::shader_add_module</a></div><div class="ttdeci">void shader_add_module(Shader *, ShaderModuleType module_type, const std::string &amp;glsl_source)</div><div class="ttdoc">Adds a GLSL source module to the shader.</div></div>
<div class="ttc" id="anamespacedz_html_a5f84b57a057a48a60cf6c134620e50fb"><div class="ttname"><a href="namespacedz.html#a5f84b57a057a48a60cf6c134620e50fb">dz::buffer_group_get_buffer_element_count</a></div><div class="ttdeci">uint32_t buffer_group_get_buffer_element_count(BufferGroup *buffer_group, const std::string &amp;buffer_name)</div><div class="ttdoc">Gets the number of elements in a named buffer.</div></div>
<div class="ttc" id="anamespacedz_html_a5fc254d9f0641b8eff301e9d1f01fe7c"><div class="ttname"><a href="namespacedz.html#a5fc254d9f0641b8eff301e9d1f01fe7c">dz::framebuffer_resize</a></div><div class="ttdeci">bool framebuffer_resize(Framebuffer *, uint32_t width, uint32_t height)</div><div class="ttdoc">Resizes a framebuffer and associated Image*.</div></div>
<div class="ttc" id="anamespacedz_html_a62e7fcc0dadcee5242e49cf95feb8ed9"><div class="ttname"><a href="namespacedz.html#a62e7fcc0dadcee5242e49cf95feb8ed9">dz::buffer_group_create</a></div><div class="ttdeci">BufferGroup * buffer_group_create(const std::string &amp;group_name)</div><div class="ttdoc">Creates a new BufferGroup with the given name.</div></div>
<div class="ttc" id="anamespacedz_html_a68b86ae9275bdc1363cee6b6681c2b3c"><div class="ttname"><a href="namespacedz.html#a68b86ae9275bdc1363cee6b6681c2b3c">dz::shader_add_buffer_group</a></div><div class="ttdeci">void shader_add_buffer_group(Shader *, BufferGroup *buffer_group)</div><div class="ttdoc">Binds a BufferGroup to the shader.</div></div>
<div class="ttc" id="anamespacedz_html_a6c523456dc2fd42c056eb3e2bc51c901"><div class="ttname"><a href="namespacedz.html#a6c523456dc2fd42c056eb3e2bc51c901">dz::shader_set_define</a></div><div class="ttdeci">void shader_set_define(Shader *, const std::string &amp;key, const std::string &amp;value=&quot;&quot;)</div><div class="ttdoc">Sets a preprocessor definition for GLSL compilation.</div></div>
<div class="ttc" id="anamespacedz_html_a831809364efb1f262f465015ff8d2aac"><div class="ttname"><a href="namespacedz.html#a831809364efb1f262f465015ff8d2aac">dz::shader_update_push_constant</a></div><div class="ttdeci">void shader_update_push_constant(Shader *, uint32_t pc_index, void *data, uint32_t size)</div><div class="ttdoc">Updates a push_constant by index given data and size.</div></div>
<div class="ttc" id="anamespacedz_html_a8bd74a18f5ee34a2d26b8f8194554251"><div class="ttname"><a href="namespacedz.html#a8bd74a18f5ee34a2d26b8f8194554251">dz::framebuffer_changed</a></div><div class="ttdeci">bool framebuffer_changed(Framebuffer *)</div></div>
<div class="ttc" id="anamespacedz_html_a9a40eeb2c76b8c3a1fa71c4afd9b81f1"><div class="ttname"><a href="namespacedz.html#a9a40eeb2c76b8c3a1fa71c4afd9b81f1">dz::window_register_free_callback</a></div><div class="ttdeci">void window_register_free_callback(WINDOW *, float priority, const std::function&lt; void()&gt; &amp;)</div><div class="ttdoc">Adds a destroy event callback function.</div></div>
<div class="ttc" id="anamespacedz_html_a9e063990ab02dca3f3e4ee18880c1b2c"><div class="ttname"><a href="namespacedz.html#a9e063990ab02dca3f3e4ee18880c1b2c">dz::register_restorable_constructor</a></div><div class="ttdeci">void register_restorable_constructor(int c_id, const std::function&lt; Restorable *(Serial &amp;)&gt; &amp;constructor_fn)</div><div class="ttdoc">Registers a constructor function such that State can accurately restore.</div></div>
<div class="ttc" id="anamespacedz_html_aa02da7cbbd5268e8bc4182ef59392f5b"><div class="ttname"><a href="namespacedz.html#aa02da7cbbd5268e8bc4182ef59392f5b">dz::CameraTuple</a></div><div class="ttdeci">std::tuple&lt; int, Framebuffer *, std::function&lt; void()&gt; &gt; CameraTuple</div><div class="ttdoc">A CameraTuple is the information required to draw from a cameras perspective.</div><div class="ttdef"><b>Definition</b> DrawList.hpp:58</div></div>
<div class="ttc" id="anamespacedz_html_aa3454b3e47e78e3984a9867555270d3fa675056ad1441b6375b2c5abd48c27ef1"><div class="ttname"><a href="namespacedz.html#aa3454b3e47e78e3984a9867555270d3fa675056ad1441b6375b2c5abd48c27ef1">dz::AttachmentType::Depth</a></div><div class="ttdeci">@ Depth</div><div class="ttdef"><b>Definition</b> Framebuffer.hpp:58</div></div>
<div class="ttc" id="anamespacedz_html_aa3454b3e47e78e3984a9867555270d3facb5feb1b7314637725a2e73bdc9f7295"><div class="ttname"><a href="namespacedz.html#aa3454b3e47e78e3984a9867555270d3facb5feb1b7314637725a2e73bdc9f7295">dz::AttachmentType::Color</a></div><div class="ttdeci">@ Color</div><div class="ttdef"><b>Definition</b> Framebuffer.hpp:57</div></div>
<div class="ttc" id="anamespacedz_html_aa4255557b5a9250383f8e3746e9ed824"><div class="ttname"><a href="namespacedz.html#aa4255557b5a9250383f8e3746e9ed824">dz::ShaderModuleType</a></div><div class="ttdeci">ShaderModuleType</div><div class="ttdef"><b>Definition</b> Shader.hpp:15</div></div>
<div class="ttc" id="anamespacedz_html_aa4255557b5a9250383f8e3746e9ed824a37d01b98065725fe3a1d30acf3a0064a"><div class="ttname"><a href="namespacedz.html#aa4255557b5a9250383f8e3746e9ed824a37d01b98065725fe3a1d30acf3a0064a">dz::ShaderModuleType::Fragment</a></div><div class="ttdeci">@ Fragment</div><div class="ttdef"><b>Definition</b> Shader.hpp:17</div></div>
<div class="ttc" id="anamespacedz_html_aa4255557b5a9250383f8e3746e9ed824aa623a8d0366bf079411aa30be45b2d10"><div class="ttname"><a href="namespacedz.html#aa4255557b5a9250383f8e3746e9ed824aa623a8d0366bf079411aa30be45b2d10">dz::ShaderModuleType::Compute</a></div><div class="ttdeci">@ Compute</div><div class="ttdef"><b>Definition</b> Shader.hpp:18</div></div>
<div class="ttc" id="anamespacedz_html_aa4255557b5a9250383f8e3746e9ed824ab22b929ba52471a02d18bb3a4e4472e6"><div class="ttname"><a href="namespacedz.html#aa4255557b5a9250383f8e3746e9ed824ab22b929ba52471a02d18bb3a4e4472e6">dz::ShaderModuleType::Vertex</a></div><div class="ttdeci">@ Vertex</div><div class="ttdef"><b>Definition</b> Shader.hpp:16</div></div>
<div class="ttc" id="anamespacedz_html_aabedb0013a31cb57f124104029f38019"><div class="ttname"><a href="namespacedz.html#aabedb0013a31cb57f124104029f38019">dz::window_add_drawn_buffer_group</a></div><div class="ttdeci">void window_add_drawn_buffer_group(WINDOW *, IDrawListManager *mgr, BufferGroup *buffer_group)</div><div class="ttdoc">Adds a drawn buffer group.</div></div>
<div class="ttc" id="anamespacedz_html_ab2a6469f6800da2f00bc0c650134a66d"><div class="ttname"><a href="namespacedz.html#ab2a6469f6800da2f00bc0c650134a66d">dz::window_register_compute_dispatch</a></div><div class="ttdeci">void window_register_compute_dispatch(WINDOW *window_ptr, float priority, Shader *shader, const std::function&lt; int()&gt; &amp;dispatch_count_fn)</div><div class="ttdoc">Registers a Compute shader for dispatch.</div></div>
<div class="ttc" id="anamespacedz_html_ab779628560ed7e3e07ac6ad56d5d919a"><div class="ttname"><a href="namespacedz.html#ab779628560ed7e3e07ac6ad56d5d919a">dz::image_create_descriptor_set</a></div><div class="ttdeci">std::pair&lt; VkDescriptorSetLayout, VkDescriptorSet &gt; image_create_descriptor_set(Image *image)</div><div class="ttdoc">Creates a single descriptor set for a given Image*.</div></div>
<div class="ttc" id="anamespacedz_html_abadd2c679e580e66db77000f5d53f359"><div class="ttname"><a href="namespacedz.html#abadd2c679e580e66db77000f5d53f359">dz::DrawTuples</a></div><div class="ttdeci">std::vector&lt; std::tuple&lt; Shader *, uint32_t &gt; &gt; DrawTuples</div><div class="ttdoc">Maps each Framebuffer pointer to the ShaderDrawList.</div><div class="ttdef"><b>Definition</b> DrawList.hpp:53</div></div>
<div class="ttc" id="anamespacedz_html_ac2125da7979afb505e8a881de4cd0cbb"><div class="ttname"><a href="namespacedz.html#ac2125da7979afb505e8a881de4cd0cbb">dz::buffer_group_restrict_to_keys</a></div><div class="ttdeci">void buffer_group_restrict_to_keys(BufferGroup *buffer_group, const std::vector&lt; std::string &gt; &amp;restruct_keys)</div><div class="ttdoc">Restricts the buffer group to a subset of keys.</div></div>
<div class="ttc" id="anamespacedz_html_ac22b64de93232168c6f6dd270335fb85"><div class="ttname"><a href="namespacedz.html#ac22b64de93232168c6f6dd270335fb85">dz::buffer_group_get_buffer_data_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; uint8_t &gt; buffer_group_get_buffer_data_ptr(BufferGroup *buffer_group, const std::string &amp;buffer_name)</div><div class="ttdoc">Gets the raw buffer data pointer for a named buffer.</div></div>
<div class="ttc" id="anamespacedz_html_ac38681906ad270f4142a516200998660"><div class="ttname"><a href="namespacedz.html#ac38681906ad270f4142a516200998660">dz::shader_create</a></div><div class="ttdeci">Shader * shader_create(ShaderTopology topology=ShaderTopology::TriangleList)</div><div class="ttdoc">Creates a new Shader object.</div></div>
<div class="ttc" id="anamespacedz_html_aca8c07caa5ad492214fc6b77c2fab235"><div class="ttname"><a href="namespacedz.html#aca8c07caa5ad492214fc6b77c2fab235">dz::buffer_group_initialize</a></div><div class="ttdeci">void buffer_group_initialize(BufferGroup *buffer_group)</div><div class="ttdoc">Initializes GPU-side resources for the buffer group.</div></div>
<div class="ttc" id="anamespacedz_html_afd06ebccef528e9b8775b1f392cb20d3a7b8b965ad4bca0e41ab51de7b31363a1"><div class="ttname"><a href="namespacedz.html#afd06ebccef528e9b8775b1f392cb20d3a7b8b965ad4bca0e41ab51de7b31363a1">dz::KEYCODES::n</a></div><div class="ttdeci">@ n</div><div class="ttdef"><b>Definition</b> Window.hpp:175</div></div>
<div class="ttc" id="anamespacedz_html_afd06ebccef528e9b8775b1f392cb20d3a865c0c0b4ab0e063e5caa3387c1a8741"><div class="ttname"><a href="namespacedz.html#afd06ebccef528e9b8775b1f392cb20d3a865c0c0b4ab0e063e5caa3387c1a8741">dz::KEYCODES::i</a></div><div class="ttdeci">@ i</div><div class="ttdef"><b>Definition</b> Window.hpp:170</div></div>
<div class="ttc" id="astruct_reflectable_group_html"><div class="ttname"><a href="struct_reflectable_group.html">ReflectableGroup</a></div><div class="ttdef"><b>Definition</b> Reflectable.hpp:49</div></div>
<div class="ttc" id="astruct_reflectable_group_html_ae5b86ae0e7296bb3ac27602324dea21b"><div class="ttname"><a href="struct_reflectable_group.html#ae5b86ae0e7296bb3ac27602324dea21b">ReflectableGroup::GroupType</a></div><div class="ttdeci">GroupType</div><div class="ttdef"><b>Definition</b> Reflectable.hpp:50</div></div>
<div class="ttc" id="astruct_reflectable_group_html_ae5b86ae0e7296bb3ac27602324dea21bae58e44bb0116961ff9a4943ecdd4ce4c"><div class="ttname"><a href="struct_reflectable_group.html#ae5b86ae0e7296bb3ac27602324dea21bae58e44bb0116961ff9a4943ecdd4ce4c">ReflectableGroup::Provider</a></div><div class="ttdeci">@ Provider</div><div class="ttdef"><b>Definition</b> Reflectable.hpp:57</div></div>
<div class="ttc" id="astructdz_1_1_draw_list_manager_html"><div class="ttname"><a href="structdz_1_1_draw_list_manager.html">dz::DrawListManager</a></div><div class="ttdoc">Template draw list manager for producing draw commands from a struct buffer.</div><div class="ttdef"><b>Definition</b> DrawListManager.hpp:38</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_provider_reflectable_group_html"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html">dz::ECS::ProviderReflectableGroup</a></div><div class="ttdef"><b>Definition</b> ECS.hpp:56</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_provider_reflectable_group_html_a36644def6d098c5cf198bb95375e7b89"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a36644def6d098c5cf198bb95375e7b89">dz::ECS::ProviderReflectableGroup::GetName</a></div><div class="ttdeci">std::string &amp; GetName() override</div><div class="ttdef"><b>Definition</b> ECS.hpp:71</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_provider_reflectable_group_html_a39ec1ae3d25b4f9b963e5846d8ca49e9"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a39ec1ae3d25b4f9b963e5846d8ca49e9">dz::ECS::ProviderReflectableGroup::glsl_main</a></div><div class="ttdeci">std::string glsl_main</div><div class="ttdef"><b>Definition</b> ECS.hpp:64</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_provider_reflectable_group_html_a4d1a546e5d517f6c0fa867b1f8a4eeed"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a4d1a546e5d517f6c0fa867b1f8a4eeed">dz::ECS::ProviderReflectableGroup::priority</a></div><div class="ttdeci">float priority</div><div class="ttdef"><b>Definition</b> ECS.hpp:57</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_provider_reflectable_group_html_a556ca27920388c171c9cb6d0513fa66e"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a556ca27920388c171c9cb6d0513fa66e">dz::ECS::ProviderReflectableGroup::GetGroupType</a></div><div class="ttdeci">GroupType GetGroupType() override</div><div class="ttdef"><b>Definition</b> ECS.hpp:68</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_provider_reflectable_group_html_a5d816ac7e4545f5b9e9f214d554520f1"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a5d816ac7e4545f5b9e9f214d554520f1">dz::ECS::ProviderReflectableGroup::sparse_name</a></div><div class="ttdeci">std::string sparse_name</div><div class="ttdef"><b>Definition</b> ECS.hpp:61</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_provider_reflectable_group_html_a6ffbe9660af900cd34cef15d71f2aaaa"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a6ffbe9660af900cd34cef15d71f2aaaa">dz::ECS::ProviderReflectableGroup::glsl_methods</a></div><div class="ttdeci">std::unordered_map&lt; ShaderModuleType, std::string &gt; glsl_methods</div><div class="ttdef"><b>Definition</b> ECS.hpp:63</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_provider_reflectable_group_html_a7313669cb0bb2a1be508023ce92b86b5"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a7313669cb0bb2a1be508023ce92b86b5">dz::ECS::ProviderReflectableGroup::buffer_name</a></div><div class="ttdeci">std::string buffer_name</div><div class="ttdef"><b>Definition</b> ECS.hpp:60</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_provider_reflectable_group_html_a9e8e988b76ef6c276c4cccf0ebf91b4c"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#a9e8e988b76ef6c276c4cccf0ebf91b4c">dz::ECS::ProviderReflectableGroup::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition</b> ECS.hpp:58</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_provider_reflectable_group_html_ac983f9eb1bda2f1b3ad6341f735cafe9"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#ac983f9eb1bda2f1b3ad6341f735cafe9">dz::ECS::ProviderReflectableGroup::component_id</a></div><div class="ttdeci">int component_id</div><div class="ttdef"><b>Definition</b> ECS.hpp:66</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_provider_reflectable_group_html_ad20531c85377ab6c0e233d20ab47e2fb"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#ad20531c85377ab6c0e233d20ab47e2fb">dz::ECS::ProviderReflectableGroup::glsl_struct</a></div><div class="ttdeci">std::string glsl_struct</div><div class="ttdef"><b>Definition</b> ECS.hpp:62</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_provider_reflectable_group_html_ad9854eff7f8ed392c016e87ea45b6656"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#ad9854eff7f8ed392c016e87ea45b6656">dz::ECS::ProviderReflectableGroup::is_component</a></div><div class="ttdeci">bool is_component</div><div class="ttdef"><b>Definition</b> ECS.hpp:65</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_provider_reflectable_group_html_af49c6c6a18400680d47259f4462fa3ad"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_provider_reflectable_group.html#af49c6c6a18400680d47259f4462fa3ad">dz::ECS::ProviderReflectableGroup::struct_name</a></div><div class="ttdeci">std::string struct_name</div><div class="ttdef"><b>Definition</b> ECS.hpp:59</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_registered_component_entry_html"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_registered_component_entry.html">dz::ECS::RegisteredComponentEntry</a></div><div class="ttdef"><b>Definition</b> ECS.hpp:48</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_registered_component_entry_html_a03188046da10ddbbc9b34f3d369aa8f4"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_registered_component_entry.html#a03188046da10ddbbc9b34f3d369aa8f4">dz::ECS::RegisteredComponentEntry::struct_name</a></div><div class="ttdeci">std::string struct_name</div><div class="ttdef"><b>Definition</b> ECS.hpp:50</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_registered_component_entry_html_a06c2f317e85b1b8c127ed909223240e0"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_registered_component_entry.html#a06c2f317e85b1b8c127ed909223240e0">dz::ECS::RegisteredComponentEntry::constructed_count</a></div><div class="ttdeci">int constructed_count</div><div class="ttdef"><b>Definition</b> ECS.hpp:53</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_registered_component_entry_html_a17e8b307b187cf66f56779c41e2a6c70"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_registered_component_entry.html#a17e8b307b187cf66f56779c41e2a6c70">dz::ECS::RegisteredComponentEntry::buffer_name</a></div><div class="ttdeci">std::string buffer_name</div><div class="ttdef"><b>Definition</b> ECS.hpp:51</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_registered_component_entry_html_aa2fb10a250951ceef2e06e1e6f94d00c"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_registered_component_entry.html#aa2fb10a250951ceef2e06e1e6f94d00c">dz::ECS::RegisteredComponentEntry::type_id</a></div><div class="ttdeci">int type_id</div><div class="ttdef"><b>Definition</b> ECS.hpp:49</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_1_1_registered_component_entry_html_af45e81470417d6ce040d3a02c0d90664"><div class="ttname"><a href="structdz_1_1_e_c_s_1_1_registered_component_entry.html#af45e81470417d6ce040d3a02c0d90664">dz::ECS::RegisteredComponentEntry::sparse_name</a></div><div class="ttdeci">std::string sparse_name</div><div class="ttdef"><b>Definition</b> ECS.hpp:52</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a03458c6fb19cd356f36ce16cf9cd5a68"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a03458c6fb19cd356f36ce16cf9cd5a68">dz::ECS::RegisterComponent</a></div><div class="ttdeci">bool RegisterComponent()</div><div class="ttdef"><b>Definition</b> ECS.hpp:403</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a041f577d62852ad760f548981bb82836"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a041f577d62852ad760f548981bb82836">dz::ECS::RegisterProvider</a></div><div class="ttdeci">void RegisterProvider()</div><div class="ttdef"><b>Definition</b> ECS.hpp:372</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a063bb7a0201f384f035ba0ed06a9392c"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a063bb7a0201f384f035ba0ed06a9392c">dz::ECS::GetEntity</a></div><div class="ttdeci">DrawProviderT &amp; GetEntity(size_t entity_id)</div><div class="ttdef"><b>Definition</b> ECS.hpp:599</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a0757ac18c665ddaaae52f4317714da20"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a0757ac18c665ddaaae52f4317714da20">dz::ECS::GenerateMainVertexShaderCode</a></div><div class="ttdeci">std::string GenerateMainVertexShaderCode()</div><div class="ttdef"><b>Definition</b> ECS.hpp:809</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a0938859b80214b3590a7a9c0baa967b4"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a0938859b80214b3590a7a9c0baa967b4">dz::ECS::GenerateMainShader</a></div><div class="ttdeci">Shader * GenerateMainShader()</div><div class="ttdef"><b>Definition</b> ECS.hpp:701</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a0bcbd62d3d9da50225552b585563b896"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a0bcbd62d3d9da50225552b585563b896">dz::ECS::EnableDrawInWindow</a></div><div class="ttdeci">void EnableDrawInWindow(WINDOW *window_ptr)</div><div class="ttdef"><b>Definition</b> ECS.hpp:730</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a10ddbad34892ad410fa4b1029619787f"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a10ddbad34892ad410fa4b1029619787f">dz::ECS::window_ptr</a></div><div class="ttdeci">WINDOW * window_ptr</div><div class="ttdef"><b>Definition</b> ECS.hpp:80</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a1595a3f6980aa50bbe036d807c2ff771"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a1595a3f6980aa50bbe036d807c2ff771">dz::ECS::constructed_component_count</a></div><div class="ttdeci">int constructed_component_count</div><div class="ttdef"><b>Definition</b> ECS.hpp:109</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a1835b10dd309ba731024aeb55258ed6d"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a1835b10dd309ba731024aeb55258ed6d">dz::ECS::RegisterComponents</a></div><div class="ttdeci">bool RegisterComponents(const std::function&lt; bool(ECS &amp;)&gt; &amp;register_all_components_fn)</div><div class="ttdef"><b>Definition</b> ECS.hpp:415</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a1b8f53cb07397c95de397cec7f7fedcc"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a1b8f53cb07397c95de397cec7f7fedcc">dz::ECS::MarkReady</a></div><div class="ttdeci">void MarkReady()</div><div class="ttdef"><b>Definition</b> ECS.hpp:226</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a1f3400395a1aed4784021ffd696b169e"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a1f3400395a1aed4784021ffd696b169e">dz::ECS::buffer_initialized</a></div><div class="ttdeci">bool buffer_initialized</div><div class="ttdef"><b>Definition</b> ECS.hpp:103</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a203bacf57f40e1ef54e08893db99d4fa"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a203bacf57f40e1ef54e08893db99d4fa">dz::ECS::buffer_size</a></div><div class="ttdeci">int buffer_size</div><div class="ttdef"><b>Definition</b> ECS.hpp:104</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a2370248981c2978d6eeb379a1bdd1e9a"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a2370248981c2978d6eeb379a1bdd1e9a">dz::ECS::buffer_group</a></div><div class="ttdeci">BufferGroup * buffer_group</div><div class="ttdef"><b>Definition</b> ECS.hpp:102</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a2410b54fdc5e22e68a1b9cbf21dc7537"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a2410b54fdc5e22e68a1b9cbf21dc7537">dz::ECS::AddEntity</a></div><div class="ttdeci">size_t AddEntity(const TEntity &amp;entity_data)</div><div class="ttdef"><b>Definition</b> ECS.hpp:513</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a24e09bfc039e62a19e44e24279989315"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a24e09bfc039e62a19e44e24279989315">dz::ECS::AddScene</a></div><div class="ttdeci">size_t AddScene(const TScene &amp;entity_data)</div><div class="ttdef"><b>Definition</b> ECS.hpp:525</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a267236b52a0e25548910fd60238c806f"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a267236b52a0e25548910fd60238c806f">dz::ECS::InsertReflectableGroup</a></div><div class="ttdeci">T &amp; InsertReflectableGroup(std::vector&lt; std::shared_ptr&lt; ReflectableGroup &gt; &gt; &amp;children)</div><div class="ttdef"><b>Definition</b> ECS.hpp:440</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a294747c9dcec6be7f603230c3c4fe46e"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a294747c9dcec6be7f603230c3c4fe46e">dz::ECS::FramebufferChanged</a></div><div class="ttdeci">bool FramebufferChanged(size_t camera_id)</div><div class="ttdef"><b>Definition</b> ECS.hpp:899</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a2af4eafcbe67f8d6b06a1f0fbb31ccb8"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a2af4eafcbe67f8d6b06a1f0fbb31ccb8">dz::ECS::prioritized_provider_ids</a></div><div class="ttdeci">std::map&lt; float, std::vector&lt; size_t &gt; &gt; prioritized_provider_ids</div><div class="ttdef"><b>Definition</b> ECS.hpp:89</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a2baea428e44d9dec4cc942c09bbdca58"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a2baea428e44d9dec4cc942c09bbdca58">dz::ECS::restore</a></div><div class="ttdeci">bool restore(Serial &amp;serial) override</div><div class="ttdoc">virtual method for reading the Restorable data</div><div class="ttdef"><b>Definition</b> ECS.hpp:250</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a316bca99781292a9154bccee4cd1060f"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a316bca99781292a9154bccee4cd1060f">dz::ECS::GetCamera</a></div><div class="ttdeci">CameraProviderT &amp; GetCamera(size_t camera_id)</div><div class="ttdef"><b>Definition</b> ECS.hpp:637</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a32b24f37aceee0e5d146b3280126c192"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a32b24f37aceee0e5d146b3280126c192">dz::ECS::GenerateShaderMain</a></div><div class="ttdeci">std::string GenerateShaderMain(ShaderModuleType moduleType)</div><div class="ttdef"><b>Definition</b> ECS.hpp:788</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a35458b86709b9d0e992f31d1de65ae1a"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a35458b86709b9d0e992f31d1de65ae1a">dz::ECS::CreateBufferGroup</a></div><div class="ttdeci">BufferGroup * CreateBufferGroup()</div><div class="ttdef"><b>Definition</b> ECS.hpp:690</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a3aad0e8d64245cc66f15e5f60ed6a8b3"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a3aad0e8d64245cc66f15e5f60ed6a8b3">dz::ECS::model_compute_shader</a></div><div class="ttdeci">Shader * model_compute_shader</div><div class="ttdef"><b>Definition</b> ECS.hpp:107</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a49b8d9498ea0a74b078d057fc7ddb214"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a49b8d9498ea0a74b078d057fc7ddb214">dz::ECS::GenerateModelComputeShader</a></div><div class="ttdeci">Shader * GenerateModelComputeShader()</div><div class="ttdef"><b>Definition</b> ECS.hpp:714</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a523cc19b9af28340fc52605d6695706e"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a523cc19b9af28340fc52605d6695706e">dz::ECS::GenerateMainFragmentShaderCode</a></div><div class="ttdeci">std::string GenerateMainFragmentShaderCode()</div><div class="ttdef"><b>Definition</b> ECS.hpp:824</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a56541cb5ba821513658ca415de7445ed"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a56541cb5ba821513658ca415de7445ed">dz::ECS::Resize</a></div><div class="ttdeci">void Resize(int n)</div><div class="ttdef"><b>Definition</b> ECS.hpp:423</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a57bdbc60d3120532dafadd536546d046"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a57bdbc60d3120532dafadd536546d046">dz::ECS::CID</a></div><div class="ttdeci">static int CID</div><div class="ttdef"><b>Definition</b> ECS.hpp:39</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a58b101ca3ae21affc0ad709780579cfe"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a58b101ca3ae21affc0ad709780579cfe">dz::ECS::SetCameraAspect</a></div><div class="ttdeci">bool SetCameraAspect(size_t camera_id, float width, float height)</div><div class="ttdef"><b>Definition</b> ECS.hpp:904</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a5dae6f2623f853691de7b90f941086d8"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a5dae6f2623f853691de7b90f941086d8">dz::ECS::AddScene</a></div><div class="ttdeci">size_t AddScene(int parent_id, const TScene &amp;entity_data)</div><div class="ttdef"><b>Definition</b> ECS.hpp:518</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a65b11644ed755ecb9e488af8e90aac31"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a65b11644ed755ecb9e488af8e90aac31">dz::ECS::GenerateCameraVisibilityFunction</a></div><div class="ttdeci">auto GenerateCameraVisibilityFunction()</div><div class="ttdef"><b>Definition</b> ECS.hpp:128</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a68691bef47fb757e049898fc664e20c9"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a68691bef47fb757e049898fc664e20c9">dz::ECS::provider_id_reflectable_maps</a></div><div class="ttdeci">std::unordered_map&lt; size_t, std::map&lt; size_t, ReflectableGroup * &gt; &gt; provider_id_reflectable_maps</div><div class="ttdef"><b>Definition</b> ECS.hpp:85</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a6990a0e560c6bff05b1c7e34a0501330"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a6990a0e560c6bff05b1c7e34a0501330">dz::ECS::RegisterStateCID</a></div><div class="ttdeci">static void RegisterStateCID()</div><div class="ttdef"><b>Definition</b> ECS.hpp:42</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a6f28d44373501dc81b7c1ea8b9fcfe49"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a6f28d44373501dc81b7c1ea8b9fcfe49">dz::ECS::main_shader</a></div><div class="ttdeci">Shader * main_shader</div><div class="ttdef"><b>Definition</b> ECS.hpp:106</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a706d896bc41b7a819bea0b022451f0f8"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a706d896bc41b7a819bea0b022451f0f8">dz::ECS::IsTThisProvider</a></div><div class="ttdeci">void IsTThisProvider(bool &amp;out_bool)</div><div class="ttdef"><b>Definition</b> ECS.hpp:657</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a70b394c7a19e8908bf91cd2d104b54ea"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a70b394c7a19e8908bf91cd2d104b54ea">dz::ECS::AddCamera</a></div><div class="ttdeci">size_t AddCamera(const TCamera &amp;camera_data, TCamera::ProjectionType projectionType)</div><div class="ttdef"><b>Definition</b> ECS.hpp:633</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a769b0bcac17b3ba0893ed544bfbb2bd2"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a769b0bcac17b3ba0893ed544bfbb2bd2">dz::ECS::restricted_keys</a></div><div class="ttdeci">std::vector&lt; std::string &gt; restricted_keys</div><div class="ttdef"><b>Definition</b> ECS.hpp:93</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a7d58a431e8a01761415e866ba43a5e33"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a7d58a431e8a01761415e866ba43a5e33">dz::ECS::GetGroup</a></div><div class="ttdeci">TReflectableGroup &amp; GetGroup(size_t id)</div><div class="ttdef"><b>Definition</b> ECS.hpp:542</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a8372a88c76f4bf3311665ab878a887a0"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a8372a88c76f4bf3311665ab878a887a0">dz::ECS::GetProviderEnd</a></div><div class="ttdeci">std::map&lt; size_t, ReflectableGroup * &gt;::iterator GetProviderEnd()</div><div class="ttdef"><b>Definition</b> ECS.hpp:577</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a875f65d5dc59c331ffb2a866f92c76a2"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a875f65d5dc59c331ffb2a866f92c76a2">dz::ECS::FindParentGroupPtr</a></div><div class="ttdeci">ReflectableGroup * FindParentGroupPtr(int parent_id)</div><div class="ttdef"><b>Definition</b> ECS.hpp:555</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a895019ed598d8a157d32d868ffdde734"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a895019ed598d8a157d32d868ffdde734">dz::ECS::AddProviderSingle</a></div><div class="ttdeci">void AddProviderSingle(int parent_id, size_t &amp;id, const TData &amp;data, std::vector&lt; std::shared_ptr&lt; ReflectableGroup &gt; &gt; &amp;reflectable_group_vector)</div><div class="ttdef"><b>Definition</b> ECS.hpp:447</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a8bbd141d75f2e6328132dac1f1bb1a66"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a8bbd141d75f2e6328132dac1f1bb1a66">dz::ECS::SceneProviderT</a></div><div class="ttdeci">typename FirstMatchingOrDefault&lt; IsSceneProvider, TProviders... &gt;::type SceneProviderT</div><div class="ttdef"><b>Definition</b> ECS.hpp:99</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a8db3a96ea380b52378133d0576f357bf"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a8db3a96ea380b52378133d0576f357bf">dz::ECS::ECS</a></div><div class="ttdeci">ECS(WINDOW *initial_window_ptr)</div><div class="ttdef"><b>Definition</b> ECS.hpp:209</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a90f17c45a1cbca84424d545c5a740552"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a90f17c45a1cbca84424d545c5a740552">dz::ECS::AddProvider</a></div><div class="ttdeci">size_t AddProvider(int parent_id, const TData &amp;data, std::vector&lt; std::shared_ptr&lt; ReflectableGroup &gt; &gt; &amp;reflectable_group_vector)</div><div class="ttdef"><b>Definition</b> ECS.hpp:497</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a9480cc5ed75db8b120997363ed872a2e"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a9480cc5ed75db8b120997363ed872a2e">dz::ECS::provider_index_vectors</a></div><div class="ttdeci">std::unordered_map&lt; size_t, std::vector&lt; size_t &gt; &gt; provider_index_vectors</div><div class="ttdef"><b>Definition</b> ECS.hpp:86</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a94cfbcad08e25debeff99822331d5860"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a94cfbcad08e25debeff99822331d5860">dz::ECS::ResizeFramebuffer</a></div><div class="ttdeci">bool ResizeFramebuffer(size_t camera_id, uint32_t width, uint32_t height)</div><div class="ttdef"><b>Definition</b> ECS.hpp:884</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a9cf830b130cbf5dc68b5a16a432ab180"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a9cf830b130cbf5dc68b5a16a432ab180">dz::ECS::GetProviderValByID</a></div><div class="ttdeci">T * GetProviderValByID(int provider_val_id)</div><div class="ttdef"><b>Definition</b> ECS.hpp:671</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a9fb7e34d142e85553aeddf0eb5cbeff2"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a9fb7e34d142e85553aeddf0eb5cbeff2">dz::ECS::IsDrawProviderName</a></div><div class="ttdeci">void IsDrawProviderName(std::string &amp;out_string)</div><div class="ttdef"><b>Definition</b> ECS.hpp:176</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_a9ff0fed2b091c4bf7559a7b7bd657029"><div class="ttname"><a href="structdz_1_1_e_c_s.html#a9ff0fed2b091c4bf7559a7b7bd657029">dz::ECS::GenerateEntitysDrawFunction</a></div><div class="ttdeci">auto GenerateEntitysDrawFunction()</div><div class="ttdef"><b>Definition</b> ECS.hpp:111</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_aa184b5ee6151d57624abf1ca5c6ef979"><div class="ttname"><a href="structdz_1_1_e_c_s.html#aa184b5ee6151d57624abf1ca5c6ef979">dz::ECS::reflectable_group_root_vector</a></div><div class="ttdeci">std::vector&lt; std::shared_ptr&lt; ReflectableGroup &gt; &gt; reflectable_group_root_vector</div><div class="ttdef"><b>Definition</b> ECS.hpp:84</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_aa6f0ab28e7efafccc15fc97b40bb8ac3"><div class="ttname"><a href="structdz_1_1_e_c_s.html#aa6f0ab28e7efafccc15fc97b40bb8ac3">dz::ECS::priority_glsl_mains</a></div><div class="ttdeci">std::unordered_map&lt; ShaderModuleType, std::map&lt; float, std::vector&lt; std::string &gt; &gt; &gt; priority_glsl_mains</div><div class="ttdef"><b>Definition</b> ECS.hpp:91</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_aa76c8846cb78da2c9a80015d27b6fd4e"><div class="ttname"><a href="structdz_1_1_e_c_s.html#aa76c8846cb78da2c9a80015d27b6fd4e">dz::ECS::DrawProviderT</a></div><div class="ttdeci">typename FirstMatchingOrDefault&lt; IsDrawProvider, TProviders... &gt;::type DrawProviderT</div><div class="ttdef"><b>Definition</b> ECS.hpp:97</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_aaf3c01af894a27d5cad0930bae4893ac"><div class="ttname"><a href="structdz_1_1_e_c_s.html#aaf3c01af894a27d5cad0930bae4893ac">dz::ECS::GetProviderBegin</a></div><div class="ttdeci">std::map&lt; size_t, ReflectableGroup * &gt;::iterator GetProviderBegin()</div><div class="ttdef"><b>Definition</b> ECS.hpp:568</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_ab037f74977e1f4c1c9c86c967695cb9d"><div class="ttname"><a href="structdz_1_1_e_c_s.html#ab037f74977e1f4c1c9c86c967695cb9d">dz::ECS::e_mutex</a></div><div class="ttdeci">std::recursive_mutex e_mutex</div><div class="ttdef"><b>Definition</b> ECS.hpp:76</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_ab2e8b55f8715f8418da2c135db648c76"><div class="ttname"><a href="structdz_1_1_e_c_s.html#ab2e8b55f8715f8418da2c135db648c76">dz::ECS::GetProviderData</a></div><div class="ttdeci">T * GetProviderData(const std::string &amp;buffer_name)</div><div class="ttdef"><b>Definition</b> ECS.hpp:685</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_ab467240e8eff632827e3f1ab2191b0db"><div class="ttname"><a href="structdz_1_1_e_c_s.html#ab467240e8eff632827e3f1ab2191b0db">dz::ECS::AddEntity</a></div><div class="ttdeci">size_t AddEntity(int parent_id, const TEntity &amp;entity_data)</div><div class="ttdef"><b>Definition</b> ECS.hpp:506</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_ab69154ea17945a5eac8b847387a2699b"><div class="ttname"><a href="structdz_1_1_e_c_s.html#ab69154ea17945a5eac8b847387a2699b">dz::ECS::backup</a></div><div class="ttdeci">bool backup(Serial &amp;serial) override</div><div class="ttdoc">virtual method for writing the Restorable data</div><div class="ttdef"><b>Definition</b> ECS.hpp:233</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_ac0ce0475966805ca0ac8e0df89e487ba"><div class="ttname"><a href="structdz_1_1_e_c_s.html#ac0ce0475966805ca0ac8e0df89e487ba">dz::ECS::RegisterProviders</a></div><div class="ttdeci">void RegisterProviders()</div><div class="ttdef"><b>Definition</b> ECS.hpp:367</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_ac238e1ce34a42c954a767b167e4ad883"><div class="ttname"><a href="structdz_1_1_e_c_s.html#ac238e1ce34a42c954a767b167e4ad883">dz::ECS::IsTAProvider</a></div><div class="ttdeci">bool IsTAProvider()</div><div class="ttdef"><b>Definition</b> ECS.hpp:664</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_ac2955d3c4318a33e0eaaa506849a7d9c"><div class="ttname"><a href="structdz_1_1_e_c_s.html#ac2955d3c4318a33e0eaaa506849a7d9c">dz::ECS::registered_component_map</a></div><div class="ttdeci">std::map&lt; int, RegisteredComponentEntry &gt; registered_component_map</div><div class="ttdef"><b>Definition</b> ECS.hpp:94</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_ac4e79ddeef42041a785d740bba7976f2"><div class="ttname"><a href="structdz_1_1_e_c_s.html#ac4e79ddeef42041a785d740bba7976f2">dz::ECS::GenerateShaderHeader</a></div><div class="ttdeci">std::string GenerateShaderHeader(ShaderModuleType moduleType)</div><div class="ttdef"><b>Definition</b> ECS.hpp:740</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_acfba559f2767b610c518deb69488de55"><div class="ttname"><a href="structdz_1_1_e_c_s.html#acfba559f2767b610c518deb69488de55">dz::ECS::GetProviderData</a></div><div class="ttdeci">TProvider &amp; GetProviderData(size_t id)</div><div class="ttdef"><b>Definition</b> ECS.hpp:586</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_ad12b2f122e4a4ff943daa24a72af24a7"><div class="ttname"><a href="structdz_1_1_e_c_s.html#ad12b2f122e4a4ff943daa24a72af24a7">dz::ECS::save_path</a></div><div class="ttdeci">std::filesystem::path save_path</div><div class="ttdef"><b>Definition</b> ECS.hpp:81</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_ad5161eaeefd9e85a1299d69cdcea291c"><div class="ttname"><a href="structdz_1_1_e_c_s.html#ad5161eaeefd9e85a1299d69cdcea291c">dz::ECS::FindBufferNameFromProviders</a></div><div class="ttdeci">std::string FindBufferNameFromProviders()</div><div class="ttdef"><b>Definition</b> ECS.hpp:184</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_adca4061a0a64a3ab65ddf27a19fa374c"><div class="ttname"><a href="structdz_1_1_e_c_s.html#adca4061a0a64a3ab65ddf27a19fa374c">dz::ECS::GetGroupByIndex</a></div><div class="ttdeci">TReflectableGroup &amp; GetGroupByIndex(size_t index)</div><div class="ttdef"><b>Definition</b> ECS.hpp:530</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_addf6a8997cb15600fced6e9b0ee00f2a"><div class="ttname"><a href="structdz_1_1_e_c_s.html#addf6a8997cb15600fced6e9b0ee00f2a">dz::ECS::ECS</a></div><div class="ttdeci">ECS(Serial &amp;serial)</div><div class="ttdef"><b>Definition</b> ECS.hpp:190</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_adff260814f68c73c5dd5ffe610b68f5c"><div class="ttname"><a href="structdz_1_1_e_c_s.html#adff260814f68c73c5dd5ffe610b68f5c">dz::ECS::AddCamera</a></div><div class="ttdeci">size_t AddCamera(size_t parent_id, const TCamera &amp;camera_data, TCamera::ProjectionType projectionType)</div><div class="ttdef"><b>Definition</b> ECS.hpp:604</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_ae39f4c859a32e67413acaf2ea11a90b1"><div class="ttname"><a href="structdz_1_1_e_c_s.html#ae39f4c859a32e67413acaf2ea11a90b1">dz::ECS::GenerateModelComputeShaderCode</a></div><div class="ttdeci">std::string GenerateModelComputeShaderCode()</div><div class="ttdef"><b>Definition</b> ECS.hpp:836</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_aea0871faeaa60fbc78c0b587764179a2"><div class="ttname"><a href="structdz_1_1_e_c_s.html#aea0871faeaa60fbc78c0b587764179a2">dz::ECS::id_provider_groups</a></div><div class="ttdeci">std::map&lt; size_t, ProviderReflectableGroup &gt; id_provider_groups</div><div class="ttdef"><b>Definition</b> ECS.hpp:88</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_aec110b8efc5cbaa9c05f48b2863eb693"><div class="ttname"><a href="structdz_1_1_e_c_s.html#aec110b8efc5cbaa9c05f48b2863eb693">dz::ECS::buffer_name</a></div><div class="ttdeci">std::string buffer_name</div><div class="ttdef"><b>Definition</b> ECS.hpp:78</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_aec3d4484048e914c53eb3026fa8c4f87"><div class="ttname"><a href="structdz_1_1_e_c_s.html#aec3d4484048e914c53eb3026fa8c4f87">dz::ECS::SetProviderCount</a></div><div class="ttdeci">void SetProviderCount(const std::string &amp;buffer_name, int count)</div><div class="ttdef"><b>Definition</b> ECS.hpp:677</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_aed8bde66f8ea4589c45f1bd41f7e2820"><div class="ttname"><a href="structdz_1_1_e_c_s.html#aed8bde66f8ea4589c45f1bd41f7e2820">dz::ECS::ConstructComponent</a></div><div class="ttdeci">size_t ConstructComponent(size_t entity_id, const TComponent &amp;data)</div><div class="ttdef"><b>Definition</b> ECS.hpp:642</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_aef1d55204eac95fd05d02782f1275b5c"><div class="ttname"><a href="structdz_1_1_e_c_s.html#aef1d55204eac95fd05d02782f1275b5c">dz::ECS::loaded_from_io</a></div><div class="ttdeci">bool loaded_from_io</div><div class="ttdef"><b>Definition</b> ECS.hpp:82</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_af1501f52e14fc2152f05803066dc1e3b"><div class="ttname"><a href="structdz_1_1_e_c_s.html#af1501f52e14fc2152f05803066dc1e3b">dz::ECS::getCID</a></div><div class="ttdeci">int getCID() override</div><div class="ttdoc">Returns the Constructor ID at runtime.</div><div class="ttdef"><b>Definition</b> ECS.hpp:40</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_af4660379438f3644512eedc64a3f4e98"><div class="ttname"><a href="structdz_1_1_e_c_s.html#af4660379438f3644512eedc64a3f4e98">dz::ECS::components_registered</a></div><div class="ttdeci">bool components_registered</div><div class="ttdef"><b>Definition</b> ECS.hpp:95</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_af9aec33af76cd4121dbe0a74382a2e45"><div class="ttname"><a href="structdz_1_1_e_c_s.html#af9aec33af76cd4121dbe0a74382a2e45">dz::ECS::draw_mg</a></div><div class="ttdeci">DrawListManager&lt; DrawProviderT &gt; draw_mg</div><div class="ttdef"><b>Definition</b> ECS.hpp:100</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_af9ced92d973b5bbee249ad57f384e4bc"><div class="ttname"><a href="structdz_1_1_e_c_s.html#af9ced92d973b5bbee249ad57f384e4bc">dz::ECS::GenerateCamerasDrawFunction</a></div><div class="ttdeci">auto GenerateCamerasDrawFunction()</div><div class="ttdef"><b>Definition</b> ECS.hpp:119</div></div>
<div class="ttc" id="astructdz_1_1_e_c_s_html_aff6ca6c2589732b628b7fcea0fec5bef"><div class="ttname"><a href="structdz_1_1_e_c_s.html#aff6ca6c2589732b628b7fcea0fec5bef">dz::ECS::CameraProviderT</a></div><div class="ttdeci">typename FirstMatchingOrDefault&lt; IsCameraProvider, TProviders... &gt;::type CameraProviderT</div><div class="ttdef"><b>Definition</b> ECS.hpp:98</div></div>
<div class="ttc" id="astructdz_1_1_first_matching_or_default_html"><div class="ttname"><a href="structdz_1_1_first_matching_or_default.html">dz::FirstMatchingOrDefault</a></div><div class="ttdef"><b>Definition</b> Provider.hpp:136</div></div>
<div class="ttc" id="astructdz_1_1_global_u_i_d_html_a7b8d8ad586c0a769031e109ec8e53a59"><div class="ttname"><a href="structdz_1_1_global_u_i_d.html#a7b8d8ad586c0a769031e109ec8e53a59">dz::GlobalUID::GetNew</a></div><div class="ttdeci">static size_t GetNew()</div><div class="ttdoc">Returns a new unique identifier.</div><div class="ttdef"><b>Definition</b> GlobalUID.hpp:29</div></div>
<div class="ttc" id="astructdz_1_1_is_camera_provider_html"><div class="ttname"><a href="structdz_1_1_is_camera_provider.html">dz::IsCameraProvider</a></div><div class="ttdef"><b>Definition</b> Provider.hpp:125</div></div>
<div class="ttc" id="astructdz_1_1_is_draw_provider_html"><div class="ttname"><a href="structdz_1_1_is_draw_provider.html">dz::IsDrawProvider</a></div><div class="ttdef"><b>Definition</b> Provider.hpp:119</div></div>
<div class="ttc" id="astructdz_1_1_is_scene_provider_html"><div class="ttname"><a href="structdz_1_1_is_scene_provider.html">dz::IsSceneProvider</a></div><div class="ttdef"><b>Definition</b> Provider.hpp:131</div></div>
<div class="ttc" id="astructdz_1_1_restorable_html"><div class="ttname"><a href="structdz_1_1_restorable.html">dz::Restorable</a></div><div class="ttdef"><b>Definition</b> State.hpp:35</div></div>
<div class="ttc" id="astructdz_1_1vec_html"><div class="ttname"><a href="structdz_1_1vec.html">dz::vec</a></div><div class="ttdoc">Template struct representing an N-dimensional vector of type T.</div><div class="ttdef"><b>Definition</b> math.hpp:28</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a href="dir_2466772dc6b25365225f0314f0ffcb0d.html">dz</a></li><li class="navelem"><a href="_e_c_s_8hpp.html">ECS.hpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
